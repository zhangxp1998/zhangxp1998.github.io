(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57161020"],{"020f":function(t,e,a){},"15da":function(t,e,a){},"18e5":function(t,e,a){"use strict";function s(t,e){return t/7500*100+e}function i(t,e="rem"){const a=/rpx/;return!window&&wx?t:"number"===typeof t?s(t,e):a.test(t)?s(+t.replace(a,""),e):t}a.d(e,"a",(function(){return i}))},"2e0e":function(t,e,a){"use strict";a("5f45")},"42f8":function(t,e,a){"use strict";a("15da")},"50fd":function(t,e,a){},"543a":function(t,e,a){},"5f45":function(t,e,a){},"5fcf":function(t,e,a){"use strict";a("543a")},"621e":function(t,e,a){"use strict";a("744d")},"6464e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"category-publish"},[e("SetRemark",{attrs:{remark:t.remark,averagePrice:t.averagePrice},on:{setRemark:e=>t.setStorage("remark",e),show:t=>this.$refs.SetAveragePriceRef.changeShow(!0,t)}}),e("SetAveragePrice",{ref:"SetAveragePriceRef",on:{setAveragePrice:t.setAveragePrice,setCount:t.setCount}}),e("div",{staticClass:"targets",attrs:{"scroll-x":"true"}},t._l(t.targetSpuList,(function(a){return e("div",{key:a.info.targetId,class:{"targets-item":!0,action:a.info.targetId===t.selectTarget},on:{click:function(e){return t.handleChangeTaraget(a.info)}}},[t._v(" "+t._s(a.info.dataValue)+" ")])})),0),t.selectTarget&&t.targetSpuList[t.selectTarget]&&t.targetSpuList[t.selectTarget].list?e("div",{staticClass:"category-spus"},t._l(t.targetSpuList[t.selectTarget].list,(function(a,s){return e("Spu",{key:s,attrs:{spu:a,index:s,averagePrice:t.averagePrice},on:{setData:e=>t.setData(s,e)}})})),1):t._e(),e("div",{staticClass:"publish"},[e("div",{staticClass:"publish-price"},[t._v(" 调价: "),e("span",[t._v(t._s(t.adjustPrice))])]),e("div",{staticClass:"publish-button",on:{click:t.handlePublish}},[t._v(" 发布商品并生成推车图 ")])]),e("PosterPop",{ref:"PosterPopRef",attrs:{remark:t.remark,price:t.averagePrice,categoryId:t.categoryId,megaSpuId:t.megaSpuId,sales:t.sales,propertyId:t.propertyId},on:{init:t.initData}})],1)},i=[],r=(a("14d9"),a("2f62")),c=(a("5af3"),function(){var t=this,e=t._self._c;return e("Popup",{attrs:{round:"","close-on-click-overlay":"price"!==t.status},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},["price"===t.status?e("div",{staticClass:"ec-dialog"},[e("div",{staticClass:"ec-dialog__title"},[t._v("请先设置均价")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.averagePrice,expression:"averagePrice"}],staticClass:"ec-dialog__input",attrs:{type:"number"},domProps:{value:t.averagePrice},on:{input:function(e){e.target.composing||(t.averagePrice=e.target.value)}}}),e("div",{staticClass:"ec-dialog__botton",on:{click:t.setAveragePrice}},[t._v("确定")])]):e("div",{staticClass:"ec-dialog"},[e("div",{staticClass:"ec-dialog__title"},[t._v("请先设置余量")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"ec-dialog__input",attrs:{type:"number"},domProps:{value:t.count},on:{input:function(e){e.target.composing||(t.count=e.target.value)}}}),e("div",{staticClass:"ec-dialog__action"},[e("div",{staticClass:"ec-dialog__botton info",on:{click:function(e){return t.changeShow(!1)}}},[t._v(" 取消 ")]),e("div",{staticClass:"ec-dialog__botton",on:{click:t.setCount}},[t._v("确定")])])])])}),o=[],n=(a("8a58"),a("e41f")),u=a("2b0e"),l=a("7f29"),d={components:{Popup:n["a"]},props:{},setup(t,{emit:e}){const a=Object(u["reactive"])({averagePrice:"",count:"",show:!1,status:"price"});function s(){!a.averagePrice||a.averagePrice<=0?this.$toast.show({icon:"none",title:"请设置正确的均价"}):(a.averagePrice=Object(l["a"])(a.averagePrice,2),e("setAveragePrice",a.averagePrice))}function i(){let{count:t}=a;!/^\d{1,}$/.test(t)||Number.isNaN(t)||t<0?this.$toast.show({title:"请输入正整数数量",icon:"none"}):(t>999&&(t=999,a.count=999,this.$toast.show({title:"余量不能超过999",icon:"none"})),e("setCount",t))}function r(t=!1,e="price"){t&&(a.status=e),a.show=t}return{...Object(u["toRefs"])(a),setAveragePrice:s,changeShow:r,setCount:i}},emits:["setAveragePrice","setCount"]},p=d,g=(a("d5b2"),a("0c7c")),h=Object(g["a"])(p,c,o,!1,null,null,null),f=h.exports,v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"remark"},[e("div",{staticClass:"explain"},[t._v(" tips：请在上方填写调价，下方填写余量，配平结果可自动计算 ")]),e("div",{staticClass:"setPrice"},[e("div",{staticClass:"averagePrice",on:{click:function(e){return t.$emit("show","price")}}},[e("div",{staticClass:"name"},[t._v("设置均价")]),e("div",{staticClass:"unit"},[t._v("¥")]),e("div",{staticClass:"price"},[t._v(" "+t._s(t.averagePrice)+" ")]),e("img",{attrs:{src:"https://cdn.qiandaoapp.com/interior/images/11e73f7f388b9d7238a555d64f778753.png",alt:""}})]),e("div",{staticClass:"edit",on:{click:function(e){return t.$emit("show","count")}}},[e("img",{attrs:{src:"https://cdn.qiandaoapp.com/interior/images/d94af0cf1366eba5a6d6f9da9448b811.png",alt:""}}),e("div",{},[t._v("批量设置余量")])])]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.txt,expression:"txt"}],staticClass:"remark-input",attrs:{placeholder:"填写捆序、囤货地、群号等...",maxlength:100},domProps:{value:t.txt},on:{blur:t.onBlur,input:function(e){e.target.composing||(t.txt=e.target.value)}}})])},m=[],S={props:{averagePrice:{type:[String,Number],default:""},remark:{type:String,default:""}},setup(t,{emit:e}){const a=Object(u["reactive"])({txt:""});function s(){e("setRemark",a.txt)}return Object(u["watch"])(()=>t.remark,()=>{a.txt=t.remark},{immediate:!0}),{...Object(u["toRefs"])(a),onBlur:s}}},y=S,b=(a("621e"),Object(g["a"])(y,v,m,!1,null,null,null)),P=b.exports,w=function(){var t=this,e=t._self._c;return e("Popup",{model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e("div",{staticClass:"dialog-poster",on:{click:function(e){return t.changeShow(!1)}}},[e("div",{staticClass:"dialog-sale",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"dialog-title"},[e("img",{staticClass:"icon",attrs:{src:"https://cdn.qiandaoapp.com/interior/images/945b612d07026080c932ac33bc9eca76.png",alt:""}}),e("div",[t._v("成功发布商品 "+t._s(t.sales.total)+" 个")])]),t.sales.list.length?e("div",{staticClass:"dialog-sale-product"},[e("div",{staticClass:"linear"}),t._l(t.sales.list,(function(a,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"item-cover"},[e("Thumbnail",{attrs:{url:a.cover||""}})],1),e("div",[e("div",{staticClass:"item-price"},[t._v("¥"+t._s(a.data.price))]),e("div",{staticClass:"item-stock"},[t._v(" 库存"+t._s(t.numberToFixed(a.data.stock,2))+" ")])])])}))],2):t._e(),e("div",{staticClass:"dialog-sale-button u-flex-c-c",on:{click:t.handleGo2AllSale}},[t._v(" 查看我的在卖的 "),e("img",{attrs:{src:"https://cdn.qiandaoapp.com/interior/images/44c502b87c5841ad3371135b6552d3e3.png",alt:""}})])]),e("img",{staticClass:"dialog-image",attrs:{src:"https://cdn.qiandaoapp.com/interior/images/3f897b8cb4f79a329eb1483b500e3b63.png",alt:""}}),e("div",{staticClass:"dialog-scroll",attrs:{"scroll-y":"true"},on:{click:function(t){t.stopPropagation()}}},[e("VanImage",{staticClass:"poster",attrs:{src:t.url},scopedSlots:t._u([{key:"loading",fn:function(){return[e("div",{staticClass:"u-flex-c"},[e("VanLoading",{attrs:{type:"spinner",size:"20"}}),t._v(" 海报加载中 ")],1)]},proxy:!0},{key:"error",fn:function(){return[t._v("海报加载失败")]},proxy:!0}])})],1),e("p",[t._v("↑ 长按图片保存 ↑")]),e("div",{staticClass:"dialog-buttton",on:{click:function(e){return e.stopPropagation(),t.handleSale.apply(null,arguments)}}},[t._v("我的全部推车图")])])])},C=[],_=(a("ac1e"),a("543e")),I=(a("4056"),a("44bf")),k=a("d17e"),x=a("cf63"),O=a("4360"),T=a("5ff2"),L={components:{Popup:n["a"],VanImage:I["a"],VanLoading:_["a"],Thumbnail:k["a"]},props:{remark:{type:String,default:""},price:{type:[String,Number],default:0},categoryId:{type:String,default:""},megaSpuId:{type:String,default:""},sales:{type:Object,default:()=>({total:0,list:[]})},propertyId:{type:String,default:""}},setup(t,{emit:e}){const{proxy:a}=Object(u["getCurrentInstance"])(),s=Object(u["reactive"])({show:!1,url:""});Object(u["watch"])(()=>s.show,(t,a)=>{a&&!1===t&&e("init")},{immediate:!0});const i=Object(u["computed"])(()=>{var t;return null===(t=O["a"].state.user.me)||void 0===t?void 0:t.id});function r(e=!1){if(e){const{pkg:e}=a.$route.query,{remark:r,categoryId:c,propertyId:o,megaSpuId:n,price:u}=t,l=Object(T["c"])({remark:encodeURIComponent(t.remark),t:(new Date).getTime(),pkg:e,price:u,categoryId:c,propertyId:o,userId:i.value,megaSpuId:n});s.url=`${x["a"].api}/poster/action/get-category-group-poster?${l}`}s.show=e}function c(){a.navigateTo({url:`/modules/pages/web-view/index?url=${encodeURIComponent(x["a"].web+"/plugin/category-publish/list")}&ut=true`})}function o(){a.navigateTo({url:"/pages-me/users/product-on-sale?source=selling"})}return{...Object(u["toRefs"])(s),changeShow:r,handleSale:c,handleGo2AllSale:o,numberToFixed:l["a"]}},emits:["setAveragePrice"]},j=L,$=(a("42f8"),Object(g["a"])(j,w,C,!1,null,null,null)),N=$.exports,D=function(){var t=this,e=t._self._c;return t.spu?e("div",{staticClass:"spu-box"},[e("div",{staticClass:"cover"},[e("Thumbnail",{attrs:{url:t.spu.cover}})],1),e("div",{staticClass:"stockPirce"},[t._v(" 闪购价 "),e("span",[t._v("¥"+t._s(t.stockPirce))])]),e("div",[e("div",{staticClass:"diffPrice calculate"},[e("div",{staticClass:"icon",on:{click:function(e){t.handleSetPrice(Number(t.spu.data.price)-1)}}},[e("img",{attrs:{src:"https://cdn.qiandaoapp.com/admins/1067ca66f399a12624599259b05546ec.png",alt:""}})]),t.priceFocus?e("input",{class:{input:!0,minus:t.spu.data.price<0,plus:t.spu.data.price>0},attrs:{type:"number",id:"price"+t.index},domProps:{value:t.spu.data.price},on:{change:t.changePrice,blur:function(e){return t.hanldeBlur("price")}}}):e("div",{class:{input:!0,minus:t.spu.data.price<0,plus:t.spu.data.price>0},on:{click:function(e){return t.hanldeFocus("price")}}},[t._v(" "+t._s(t.spu.data.price>=0?"+"+t.spu.data.price:t.spu.data.price)+" ")]),e("div",{staticClass:"icon",on:{click:function(e){t.handleSetPrice(Number(t.spu.data.price)+1)}}},[e("img",{attrs:{src:"https://cdn.qiandaoapp.com/admins/8ea2b1893b70c80abd1c14ce8a78315f.png",alt:""}})])]),e("div",{staticClass:"count calculate"},[e("div",{staticClass:"icon",on:{click:function(e){t.handleSetStock(Number(t.spu.data.stock)-1)}}},[e("img",{attrs:{src:"https://cdn.qiandaoapp.com/admins/51bd8430aacc05c9e54111bf3fabea81.png",alt:""}})]),t.stockFocus?e("input",{staticClass:"input",attrs:{type:"number",id:"stock"+t.index},domProps:{value:t.spu.data.stock},on:{input:t.changeStock,blur:function(e){return t.hanldeBlur("stock")}}}):e("div",{class:{input:!0,not:!t.spu.data.stock},on:{click:function(e){return t.hanldeFocus("stock")}}},[t._v(" x"+t._s(t.spu.data.stock)+" ")]),e("div",{staticClass:"icon",on:{click:function(e){t.handleSetStock(Number(t.spu.data.stock)+1)}}},[e("img",{attrs:{src:"https://cdn.qiandaoapp.com/admins/2c971325339e918c63860f5d4077c207.png",alt:""}})])])])]):t._e()},A=[],R=a("a382"),F={components:{Thumbnail:k["a"]},props:{spu:{type:Object,default:null},index:{type:Number,default:0},averagePrice:{type:Number,default:0}},setup(t,{emit:e}){const a=Object(u["reactive"])({stockFocus:!1,priceFocus:!1}),s=Object(u["computed"])(()=>{try{const{spu:e}=t;return e.minOnlinePrice.toFixed(1)}catch(e){return"--"}});function i(e=0){Number.isNaN(e)&&(e=0),e=Math.round(100*e)/100,e+t.averagePrice<=0&&(e=0,R["c"].show({icon:"none",title:"调价后的商品价格不能小于0"})),n("price",e)}function r(t){i(Number(t.target.value)||0)}function c(t){t<0&&(t=0),t>999&&(t=999,R["c"].show({icon:"none",title:"余量不能超过999"})),n("stock",t)}function o(t){const e=parseInt(t.target.value||0);c(e)}function n(t,a){e("setData",{key:t,num:a})}function l(e){const s=e+"Focus";a[s]=!0,Object(u["nextTick"])(()=>{document.getElementById(`${e}${t.index}`).focus()})}function d(t){const e=t+"Focus";a[e]=!1}return{...Object(u["toRefs"])(a),stockPirce:s,handleSetPrice:i,changePrice:r,handleSetStock:c,changeStock:o,hanldeFocus:l,hanldeBlur:d}}},E=F,B=(a("2e0e"),Object(g["a"])(E,D,A,!1,null,null,null)),U=B.exports,q=a("ccbb"),z=a("a37c"),M={components:{SetAveragePrice:f,SetRemark:P,Spu:U,PosterPop:N},data(){return{show:!0,categoryId:"",megaSpuId:"",averagePrice:0,sales:{total:0,list:[]},propertyId:z["d"]?"112350042":"1436288",targetSpuList:null,profiles:[],selectTarget:null,specId:z["d"]?18741:130632,spus:[],products:[],remark:"",storage:{}}},async created(){const{id:t,megaSpuId:e}=this.$route.query;(t||e)&&(this.categoryId=t,this.megaSpuId=e,this.getStorage(),await this.initData())},mounted(){this.averagePrice||this.$refs.SetAveragePriceRef.changeShow(!0)},computed:{...Object(r["mapState"])("user",["me"]),...Object(r["mapState"])("app",["app"]),adjustPrice(){const{selectTarget:t,targetSpuList:e}=this;let a=0;return t&&null!==e&&void 0!==e&&e[t]?(e[t].list.forEach((t,e)=>{a+=+t.data.price}),Object(l["a"])(a,2)):0}},methods:{async initData(){this.$loading.show({title:"获取数据中"}),await this.loadProducts(),await this.getSpuList(),this.$loading.hide()},async loadProducts(){try{const{megaSpuId:t,categoryId:e}=this,a={categoryId:e,megaSpuId:t,status:"ON_SALE,OFF_SALE"},{data:{products:s=[]}}=await q["a"].getProductsByCategory(a);this.products=s.filter(t=>t.spec.find(t=>+t.id===this.specId))}catch(t){console.log(t)}this.isLoading=!1},async getSpuList(){let t=0;const e=async()=>{const{megaSpuId:a,categoryId:s}=this;var i={model:"CHANNEL_4COLUMNS",categoryId:s,categorySpuId:a,limit:20,propertyIds:[this.propertyId],offset:this.offset,orderBy:"latest"};try{const{data:a}=await q["a"].getSpuList(i);t=a.count,this.spus=this.offset?this.spus.concat(a.list||[]):a.list,this.offset=this.spus.length,t>this.offset&&await e()}catch(r){console.error(r)}};await e(),this.setSpus(this.spus)},setSpus(t=[]){const{products:e,averagePrice:a}=this,s={};t.forEach(t=>{var i,r;const c=null!==t&&void 0!==t&&null!==(i=t.profiles)&&void 0!==i&&i.length?t.profiles.find(t=>t.propertyId===this.propertyId):[];if(null!==c&&void 0!==c&&null!==(r=c.profiles)&&void 0!==r&&r.length)c.profiles.forEach(i=>{s[i.targetId]||(s[i.targetId]={info:i,list:[]});const r=e.find(e=>e.spuInfo.spuId===t.id),c=this.getProductData(r,t,a);s[i.targetId].list.push(c)});else{s["0"]||(s["0"]={info:{dataValue:"款式",targetId:"0"},list:[]});const i=e.find(e=>e.spuInfo.spuId===t.id),r=this.getProductData(i,t,a);s["0"].list.push(r)}}),this.targetSpuList=s;for(const i in this.targetSpuList)if(i)return void(this.selectTarget=i);this.$forceUpdate()},getProductData(t,e,a=0){const s={minOnlinePrice:e.minOnlinePrice,cover:e.cover,profiles:e.profiles,data:{id:null===t||void 0===t?void 0:t.productId,attachments:[],price:a&&null!==t&&void 0!==t&&t.price?Math.round(100*(t.price-a))/100:(null===t||void 0===t?void 0:t.price)||0,remark:"",specValueIds:[this.specId],spuId:e.id,status:null!==t&&void 0!==t&&t.status?null===t||void 0===t?void 0:t.status:(null===t||void 0===t?void 0:t.count)>0?"ON_SALE":"OFF_SALE",stock:"OFF_SALE"===(null===t||void 0===t?void 0:t.status)?0:(null===t||void 0===t?void 0:t.count)||0,tagIds:"",type:"spu"}};return s},setData(t,e){const a=this.targetSpuList[this.selectTarget].list;a[t].data[e.key]=e.num,this.targetSpuList[this.selectTarget].list=a,this.$forceUpdate()},async handlePublish(){this.$loading.show({title:"提交中"});const t=JSON.parse(JSON.stringify(this.targetSpuList)),e=[],a=[],s={total:0,list:[]};for(const r in t)s.total+=t[r].list.length||0,t[r].list.forEach(t=>{var i;t.data.price=this.averagePrice+ +t.data.price,t.data.status=(null===(i=t.data)||void 0===i?void 0:i.stock)>0?"ON_SALE":"OFF_SALE",t.data.id?a.push(t.data):e.push(t.data),s.list.length<3&&s.list.push(t)});this.sales=s;try{if(null!==e&&void 0!==e&&e.length){await q["a"].updateProductMulti({args:e})}if(null!==a&&void 0!==a&&a.length){await q["a"].updateC2cProductsByCategory(a)}this.$refs.PosterPopRef.changeShow(!0)}catch(i){this.$loading.show({title:i.message})}finally{this.$loading.hide();const{categoryId:t,megaSpuId:e}=this,a={categoryId:t,megaSpuId:e};await q["a"].createUserPoster(a)}},handleChangeTaraget(t){this.selectTarget=t.targetId},setAveragePrice(t){this.$loading.show({title:"调价中"});const{targetSpuList:e}=this;if(this.targetSpuList&&!this.averagePrice)for(const a in e)e[a].list.forEach((s,i)=>{s.data.price=s.data.price?Math.round(100*(+s.data.price-+t))/100:0,e[a].list[i]=s});this.setStorage("averagePrice",+t),this.$refs.SetAveragePriceRef.changeShow(!1),this.$loading.hide()},setStorage(t,e){const a=this.categoryId||this.megaSpuId;var s;a&&(null!==(s=this.storage)&&void 0!==s&&s[a]||(this.storage[a]={}),t&&e&&(this.storage[a][t]=e,this[t]=e),window.localStorage.setItem("CATEGIRY_PUBLISH",JSON.stringify(this.storage)))},async getStorage(){var t;this.storage=JSON.parse(window.localStorage.getItem("CATEGIRY_PUBLISH"))||{};const e=this.categoryId||this.megaSpuId,a=null===(t=this.storage)||void 0===t?void 0:t[e];this.averagePrice=(null===a||void 0===a?void 0:a.averagePrice)||0,this.remark=(null===a||void 0===a?void 0:a.remark)||""},setCount(t){this.$loading.show({title:"调整余量"});const{targetSpuList:e}=this;if(this.targetSpuList)for(const a in e)e[a].list.forEach((s,i)=>{s.data.stock=t,e[a].list[i]=s});this.$refs.SetAveragePriceRef.changeShow(!1),this.$loading.hide()}}},V=M,H=(a("5fcf"),Object(g["a"])(V,s,i,!1,null,null,null));e["default"]=H.exports},"744d":function(t,e,a){},"7f29":function(t,e,a){"use strict";function s(t,e=2,a=!1){return t=(+t).toFixed(e),a?t:Number(t)+""}a.d(e,"a",(function(){return s}))},ccbb:function(t,e,a){"use strict";var s=a("0ef7");e["a"]={getStandardProducts(t){return s["p"].get(`/spus/${t}/standard-products`)},getSPUs(t){return s["p"].get("/v2/spus",t)},getSingleSpu(t,e){return s["p"].get("/v2/spus/"+t,e)},getUserPosters(t){return s["h"].post("/c2c-web/v1/poster/get-user-posters",t)},doProductsOffSale(t){return s["h"].post("/c2c-web/v1/c2c/products/off-sale",t)},plastSearchCategory(t){return s["h"].get("/plast/search/category/v3",t)},createUserPoster(t){return s["h"].post("/c2c-web/v1/poster/create-user-poster",t)},getSPUSpecs(t){return s["p"].get(`/spus/${t}/specs`)},updateC2cProductsByCategory(t){return s["h"].post("/c2c/products/m-update",t)},updateProductMulti(t){return s["h"].post("/c2c/products/multi-create",t)},createProductMulti(t){return s["h"].post("/c2c/products/m-create-update",t)},getProductsByCategory(t){return s["h"].get("/c2c/products/by-category",t)},getCategoryDetail(t,e){return s["p"].get("/v2/categories/"+t,e)},getCategories(t){return s["p"].get("/v2/categories",t)},getRecommendCategories(t){return s["p"].get(`/v2/categories/${t}/recommend`)},getCategoryTags(t){return s["p"].get(`/v2/categories/${t}/config`)},getTag(t,e){return s["p"].get("/tags/"+t,e)},getHotTags(t){return s["p"].get(`/tags/${t}/config`)},getTags(t){return s["p"].get("/tags",t)},searchCategories(t){return s["p"].get("/v2/categories",t)},getSettings(){return s["p"].get("/settings")},changeWishes(t){return s["p"].post("/wish-list",t)},updateUserSettings(t){return s["p"].put("/settings",t)},getPosterColumnConfig(t){return s["l"].get("/action/get-products-poster",t)},getPosterThemes(t){return s["l"].get("/action/get-poster-themes",t,{isErrorDefaultTip:!1})},getWishList(t){return s["p"].get("/wish-list",t,{isErrorDefaultTip:!1})},getWishMatches(t){return s["p"].get("/products/match/wish-list",t,{isErrorDefaultTip:!1})},getDemandProductList(t){return s["p"].get("/products/match/demand-list",t)},getTradeInfo(t){return s["p"].post("/action/get-trade-info",t)},get360DegImages(t){return s["p"].get(`/spus/${t}/360-degree-images`)},getBarginSpus(t){return s["p"].post("/stock-order/bargin",t)},getSpecsByMPName(t){return s["p"].get("/specs/aciton/get-by-app-name",t)},getDistribution(t){return s["p"].get("/feeds/chaowan",t)},getSellingCategories(t){return s["p"].get("/products/action/get-selling-categories",t)},getCategoryCount(t){return s["p"].get("/products/action/get-category-product-count",t)},getSpuList(t){return s["h"].post("/treasure/spus/search/simple-info",t)},getSpuHeader(t){return s["h"].get("/treasure/flora/v2/spu/simpleInfo",t)},getSpuDetails(t){return s["h"].get("/treasure/flora/v1/spu/detailInfo",t)},getTagList(t){return s["h"].get("/treasure/tags",t)},getTagDetails(t){return s["h"].get("/treasure/flora/v1/tag/detailInfo",t)},getTagDetailsV2(t){return s["h"].get("/treasure/flora/v2/tag/simpleInfo",t)},searchSpuInTag(t){return s["h"].get("/plast/search/spu",t)},searchTag(t){return s["h"].get("/plast/search/tag",t)},getXiaokaWebConfig(){return s["e"].get("/vinyl/web.json")},getTagsV2(t){return s["h"].get("/armory/entry/tags",t)}}},cd4a:function(t,e,a){"use strict";a("50fd")},d17e:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ec-thumbnail",style:{width:t.cssWidth,height:t.cssHeight,"border-radius":t.cssBorderRadius,...t.extStyle}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.showDisplayImage,expression:"showDisplayImage"}],staticClass:"ec-thumbnail__image",attrs:{src:t.displaySrc,alt:t.alt,loading:"lazy","lazy-load":"",mode:"aspectFill"},on:{click:t.handlePreview}}),e("img",{directives:[{name:"show",rawName:"v-show",value:!t.showDisplayImage,expression:"!showDisplayImage"}],staticClass:"ec-thumbnail__image",attrs:{src:t.defaultUrl,alt:"默认图片",loading:"lazy","lazy-load":"",mode:"aspectFill"}})])},i=[],r=(a("4662"),a("28a2")),c=a("18e5"),o={props:{url:{type:String,required:!0},defaultUrl:{type:String,default:""},size:{type:Object,default:()=>({})},alt:{type:String,default:""},borderRadius:{type:[Number,String],default:0},preview:{type:Boolean,default:!1},extStyle:{type:Object,default:()=>{}}},data(){return{showDisplayImage:!0,displaySrc:""}},watch:{targetUrl:{immediate:!0,handler(t,e){t&&t!==e&&this.setDisplaySrc()}}},computed:{cssBorderRadius(){return Object(c["a"])(this.borderRadius)},cssWidth(){const{width:t}=this.size;return t?"string"===typeof t?t:t+"px":"100%"},cssHeight(){const{height:t}=this.size;return t?"string"===typeof t?t:t+"px":"100%"},targetUrl(){const{url:t,size:{style:e}}=this;return e?t+e:t}},methods:{setDisplaySrc(){this.displaySrc=this.targetUrl},handlePreview(){const{url:t,preview:e}=this;e&&Object(r["a"])({images:[t+"!lfit_w1080_jpg"],closeable:!0})}}},n=o,u=(a("cd4a"),a("0c7c")),l=Object(u["a"])(n,s,i,!1,null,null,null);e["a"]=l.exports},d5b2:function(t,e,a){"use strict";a("020f")}}]);