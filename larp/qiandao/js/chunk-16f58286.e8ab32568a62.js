(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16f58286"],{"001c":function(t,e,r){},"06e4":function(t,e,r){},"0c92":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"groupon-statistics"},[e("ScrollTab",{attrs:{tabs:t.tabs,currentTab:t.currentTab,isFilterFixed:""},on:{"item-tap":t.changeCurrentTab}}),e("div",{staticClass:"groupon-statistics__tips"},[t._v("不包含未支付，已取消的订单")]),e("div",{staticClass:"groupon-statistics__list"},["time"===t.currentTab.id?t._l(t.list,(function(t){return e("OrderUser",{key:t.order_id,attrs:{order:t}})})):"product"===t.currentTab.id?t._l(t.list,(function(t){return e("OrderProduct",{key:t.product_id,attrs:{product:t}})})):t._e()],2)],1)},i=[],a=function(){var t=this,e=t._self._c;return e("div",{class:["ec-tabs",{sticky:t.isFilterFixed}],style:{position:t.isFilterFixed?"fixed":"relative"}},[e("div",{staticClass:"tag-container",staticStyle:{height:"72rpx"},attrs:{"scroll-x":"true"}},t._l(t.tabs,(function(r){return e("div",{key:r.id,class:["tab-item",{active:r.id===t.currentTab||r.id===(t.currentTab&&t.currentTab.id)}],on:{click:function(e){return e.stopPropagation(),t.handleTabTap(r)}}},[t._v(" "+t._s(r.label)+" ")])})),0)])},o=[],n={props:{tabs:{type:Array,required:!0},currentTab:{type:[String,Object]},isFilterFixed:{type:Boolean,default:!1},showSearchEntry:{type:Boolean,default:!1}},methods:{handleTabTap(t){this.$emit("item-tap",t)},handleSearch(){this.$emit("search")}}},c=n,u=(r("29cf"),r("0c7c")),l=Object(u["a"])(c,a,o,!1,null,"fc9416ac",null),d=l.exports,p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"order"},[e("Avatar",{attrs:{url:t.order.user.user_image,size:"80"}}),e("div",{staticClass:"order__content"},[e("div",{staticClass:"order__content__info"},[e("div",{staticClass:"order__nickname"},[t._v(t._s(t.userName))]),t.order.create_time?e("div",{staticClass:"order__time"},[t._v(t._s(t.time))]):t._e()]),e("div",{staticClass:"order__products"},t._l(t.order.products,(function(r){return e("div",{key:r.product.product_id,staticClass:"order__product"},[e("div",{staticClass:"order__product__left"},[e("img",{staticClass:"order__product__cover",attrs:{src:r.product.images&&r.product.images[0]&&r.product.images[0].url}}),e("div",{staticClass:"order__product__name"},[t._v(t._s(r.product.title))])]),e("div",{staticClass:"order__product__right"},[t._v("x "+t._s(r.count))])])})),0)])],1)},g=[],f=r("5a0c"),_=r.n(f),h=r("c91e"),m={components:{Avatar:h["a"]},props:{order:{type:Object,required:!0}},computed:{userName(){const{order:t}=this;return(t.user.name||"").replace(/^(.).*(.)$/,"$1***$2")},time(){const{order:t}=this;return _()(+t.create_time).format("MM-DD HH:mm:ss")}}},b=m,y=(r("955b"),Object(u["a"])(b,p,g,!1,null,"30152abb",null)),v=y.exports,A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"product"},[e("img",{staticClass:"product__cover",attrs:{src:t.product.images&&t.product.images[0]&&t.product.images[0].url}}),e("div",{staticClass:"product__left"},[e("div",{staticClass:"product__name"},[t._v(t._s(t.product.title))]),e("div",{staticClass:"product__info"},[e("div",{staticClass:"product__info__price"},[t._v("￥"+t._s(t.product.price))]),e("div",{staticClass:"product__info__sell-count"},[t._v(" 已售 "+t._s(t.product.sell_count)+" ")])])])])},w=[],C={props:{product:{type:Object,required:!0}}},S=C,D=(r("e581"),Object(u["a"])(S,A,w,!1,null,"2267da0c",null)),T=D.exports,q=r("8cab");const k=[{id:"time",label:"按参团时间"},{id:"product",label:"按款式"}];var I={components:{ScrollTab:d,OrderUser:v,OrderProduct:T},data(){return{tabs:k,currentTab:k[0],total:0,list:[],busy:!1,key:0}},watch:{currentTab:async function(t){this.key=this.key+1,this.loadData(!0)}},created(){this.grouponId=this.$route.query.grouponId,this.loadData(!0)},onReachBottom(){this.busy||this.loadData()},methods:{async loadData(t){t&&(this.list=[]),this.busy=!0;try{const{currentTab:e}=this;switch(e.id){case"time":await this.getTimeList(t);break;case"product":t&&await this.getProductList(t);break;default:break}}catch(e){console.log(e)}this.busy=!1},async getTimeList(t){const{grouponId:e,list:r,total:s,key:i}=this;if(!t&&r.length===s)return;const{user_list:a,total_count:o}=await q["a"].getGrouponUserList({grouponId:e,limit:10,offset:t?0:r.length});i===this.key&&(this.total_count=o,this.list=t?a:r.concat(a))},async getProductList(t){const{grouponId:e,key:r}=this;if(r!==this.key)return;const{data:s}=await q["a"].getGrouponProductList(e);this.list=s},changeCurrentTab(t){this.currentTab=t}}},j=I,O=(r("54c0"),Object(u["a"])(j,s,i,!1,null,"e6f1fa58",null));e["default"]=O.exports},"18e5":function(t,e,r){"use strict";function s(t,e){return t/7500*100+e}function i(t,e="rem"){const r=/rpx/;return!window&&wx?t:"number"===typeof t?s(t,e):r.test(t)?s(+t.replace(r,""),e):t}r.d(e,"a",(function(){return i}))},"29cf":function(t,e,r){"use strict";r("001c")},"350a":function(t,e,r){},"50fd":function(t,e,r){},5388:function(t,e,r){"use strict";r("b25f")},"54c0":function(t,e,r){"use strict";r("350a")},"69c4":function(t,e,r){"use strict";r("13d5");function s(t){return null===t}function i(t){return Array.isArray(t)}function a(t){return"object"===typeof t}function o(t){return"string"===typeof t}const n=t=>o(t)?t.replace(/_+[a-zA-Z]/g,(t,e)=>e?t.substr(-1).toUpperCase():t):t;function c(t){return!a(t)||s(t)?t:i(t)?t.map(t=>c(t)):Object.keys(t).reduce((e,r)=>(e[n(r)]=c(t[r]),e),{})}e["a"]=c},"8cab":function(t,e,r){"use strict";var s=r("0ef7"),i=r("69c4");e["a"]={createGroupon(t){return s["i"].post("/groupon/action/create",t)},getGrouponDetail(t){return s["i"].get("/groupon/detail/groupon",{groupon_id:t})},cancelGroupon(t){return s["i"].post("/groupon/action/flow",{groupon_id:t})},confirmGroupon(t){return s["i"].post("/groupon/action/success",{groupon_id:t})},getGrouponUserList({grouponId:t,offset:e=0,limit:r=10}){return s["i"].get("/groupon/user/list",{groupon_id:t,offset:e,limit:r})},getGrouponProductList(t){return s["i"].get("/groupon/product/list",{groupon_id:t})},createGrouponOrder({grouponId:t,products:e,deliverPattern:r=0,addressId:i}){return s["i"].post("/groupon/order/create",{groupon_id:t,products:e,deliver_pattern:r,address_id:i})},grouponReady(t){return s["i"].post("/groupon/action/ready_product",{groupon_id:t})},getHomePageGrouponList(t){return s["i"].get("/groupon/home/user_groupons",{...t})},getMineGrouponList(t){return s["i"].get("/groupon/onsell/user_groupons",{...t})},getGrouponListByTag(t){return s["i"].get("/groupon/tag/groupons",{...t})},cancelOrder(t){return s["i"].post("/groupon/order/cancel",t)},applyRefund(t){return s["i"].post("/groupon/order/apply_refund",t)},sellerRefundAction(t){return s["i"].post("/groupon/action/confirm_refund",t)},getUserSellingStockList({offset:t,limit:e=10}={}){return s["i"].get("/groupon/user_selling_stock/user_list",{offset:t,limit:e})},getShelfOrders(t){return s["i"].get("/groupon/shelf/orders",{shelf_id:t})},getGrouponRankList(t){return s["i"].get("/groupon/rank/list",{...t}).then(t=>Object(i["a"])(t))}}},"955b":function(t,e,r){"use strict";r("aa2b")},aa2b:function(t,e,r){},b25f:function(t,e,r){},c91e:function(t,e,r){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ec-avatar",style:{width:""+t.realSize,height:""+t.realSize}},[e("div",{staticClass:"ec-avatar__img"},[e("Thumbnail",{attrs:{size:{width:"100%",height:"100%"},url:t.url,defaultUrl:t.defaultAvatar}})],1),t.verified?e("img",{staticClass:"ec-avatar__org",attrs:{src:r("d146"),alt:"",mode:"aspectFit"}}):t._e(),t._t("default")],2)},i=[],a=r("d17e"),o=r("18e5"),n={components:{Thumbnail:a["a"]},props:{size:{type:[Number,String],default:96},url:{type:String,required:!0},verified:{type:Boolean,default:!1}},data(){return{defaultAvatar:""}},computed:{realSize(){const{size:t}=this;return Object(o["a"])(t+"rpx")}}},c=n,u=(r("5388"),r("0c7c")),l=Object(u["a"])(c,s,i,!1,null,null,null);e["a"]=l.exports},cd4a:function(t,e,r){"use strict";r("50fd")},d146:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAAVFBMVEUAAAD/////////////////////////////////////////////ugD/wgD/sgBXLwL/ygD/zwH/yjLdogH/+up/UQL/8cubaQL/6623gAH/1F3/5Y+KKH4eAAAAC3RSTlMA2/QPpVYniLxxO/vwjn8AAANGSURBVFjDvZiJlqIwEEUbCM1ighjZ+f//HIGqvIQEwfHMPPsoZrm+qjKY9M9/0G+aiTyPojwXRfr7d4gij2+OYlF8iEqK6BZUnibXIRl8eIqK5BsIFBcXKCnCOXZUnlkRt0vK3pfHt9I0Xdc0fq7fFK2MXcIw6QdJT4PLig45aWwzZoMwqMHJdHlAsQfNj6DmU44d0eAD4AicQFy/oDQIJwRqkJ/EqzRq1D3eS3eo1x4jrKycCoFlXnpBqU85yHTphgRKvWph1a9rMPn9+mr8RDYmQ17qS3qY/BSWmZhrBMqJdINqeWZ0fVmTseOZGULj1QGn22enYPCDJo7tS/2zVuuDXqhV1mqDa56VEibiKtVqHd/fNz03BKHarbFVjOVqCVoGnN+lb9Gd1KoNWy+vzzvga7tiO3HixDQrcnNnSaUMqQWG2YMTVc5lUqSeZ4zLjE0vMwiKNDlRxRQTdS7J7FuaYjRuDf1IY9Yn1AqpGVaz/Pk9B0C5ae0o+YlrnlirclIsBNEH35pQZ2t9ZkgNC+XidzAHITmpdadBr/QmSkAhlDxDoRoCSCIhDMSEIaQDjC37q9PCGvwCI7AUuqWX/iRKPMJMCy88qAliIGnmSosoXTMSGAQl96JIzJX0dTvCqPWxiD2YbKOfIEixXXBp+reriqKSPdsCYLtEwbHAtelW6xWmU80AYOHrZy0GuRcFQy9mPmBYDNbSRDeJbHCqfWFpvhSHS2Wi4hT5cm7qAsmBKkRFBfM1IcOUY45qR2oNptoaKnxIZWJK3Vu6NkOrbXw1MqW36Myyb+n2zXj23ODngOiwgwSL/a5EVxV5YbUcky+NvcluWzIwQNKD7YxoXC8W4ceXVbh2KmjLTl9BTJrw2+tvTDSP5b/qOY5PNJhefYMZ304njWkILcasbmDGUsStg+vmSF14L1piC1ld0HC0w85u8HMma2PsndBybK/1CQXbdPHuKNVMbyCoNLaP3qHh1JDu7CPV6aFsCIJwfgElzAFo8sKBE1AuHDW7edJkY5rBAOVACeoF4cBqSXjZDX5/vj3RlwgMun56hooTUITVeAb6CgKlIg7mRJQ/nylJRbTzkeGfN5+hyjTLxEtZlpZA/Dv9AUcQuokAd6DHAAAAAElFTkSuQmCC"},d17e:function(t,e,r){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ec-thumbnail",style:{width:t.cssWidth,height:t.cssHeight,"border-radius":t.cssBorderRadius,...t.extStyle}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.showDisplayImage,expression:"showDisplayImage"}],staticClass:"ec-thumbnail__image",attrs:{src:t.displaySrc,alt:t.alt,loading:"lazy","lazy-load":"",mode:"aspectFill"},on:{click:t.handlePreview}}),e("img",{directives:[{name:"show",rawName:"v-show",value:!t.showDisplayImage,expression:"!showDisplayImage"}],staticClass:"ec-thumbnail__image",attrs:{src:t.defaultUrl,alt:"默认图片",loading:"lazy","lazy-load":"",mode:"aspectFill"}})])},i=[],a=(r("4662"),r("28a2")),o=r("18e5"),n={props:{url:{type:String,required:!0},defaultUrl:{type:String,default:""},size:{type:Object,default:()=>({})},alt:{type:String,default:""},borderRadius:{type:[Number,String],default:0},preview:{type:Boolean,default:!1},extStyle:{type:Object,default:()=>{}}},data(){return{showDisplayImage:!0,displaySrc:""}},watch:{targetUrl:{immediate:!0,handler(t,e){t&&t!==e&&this.setDisplaySrc()}}},computed:{cssBorderRadius(){return Object(o["a"])(this.borderRadius)},cssWidth(){const{width:t}=this.size;return t?"string"===typeof t?t:t+"px":"100%"},cssHeight(){const{height:t}=this.size;return t?"string"===typeof t?t:t+"px":"100%"},targetUrl(){const{url:t,size:{style:e}}=this;return e?t+e:t}},methods:{setDisplaySrc(){this.displaySrc=this.targetUrl},handlePreview(){const{url:t,preview:e}=this;e&&Object(a["a"])({images:[t+"!lfit_w1080_jpg"],closeable:!0})}}},c=n,u=(r("cd4a"),r("0c7c")),l=Object(u["a"])(c,s,i,!1,null,null,null);e["a"]=l.exports},e581:function(t,e,r){"use strict";r("06e4")}}]);