(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ce148bc0"],{"15bd":function(t,a,i){"use strict";i("ccfe")},"7cb2":function(t,a,i){"use strict";i.d(a,"b",(function(){return n})),i.d(a,"c",(function(){return o})),i.d(a,"a",(function(){return r}));var s=i("0ef7"),e=i("0d94"),c=i("a37c");async function n(t,a="interior-admin.image"){const i=Object(e["e"])({isProd:c["e"],async customApiCall(t){var a;const i=await s["h"].post("/uploader/gene-post-object-sign",t);return null===(a=i.data)||void 0===a?void 0:a[0]}});return i({file:t,scene:a})}function o(t){return s["h"].get("/uploader/file-space/get",t)}function r(t,a="interior-admin.image"){const i=Object(e["e"])({isProd:c["e"],async customApiCall(t){var a;const i=await s["h"].post("/uploader/anonymous/gene-post-object-sign",t);return null===(a=i.data)||void 0===a?void 0:a[0]}});return i({file:t,scene:a})}},"8a1a":function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"avp"},[t._m(0),1===this.part?a("div",{staticClass:"cover"},[t._m(1),a("img",{staticClass:"showcase",attrs:{src:"https://cdn.qiandaoapp.com/interior/images/ac60af1c0ae33f8f0d2d5a6a720950fe.jpg",alt:"showcase"}}),t.loading?a("div",{staticClass:"btn solid loader"},[t._v("加载中")]):a("label",{staticClass:"btn solid",attrs:{for:"upload"}},[t._v(" 上传你的正脸照 (无眼镜) ")]),a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"upload",accept:"image/png, image/jpeg"},on:{change:t.getFile}}),a("div",{staticClass:"tip"},[t._v("本工具仅供娱乐，效果以实际佩戴为准")])]):t._e(),2===this.part?a("div",{staticClass:"editor"},[a("div",{staticClass:"canvas",attrs:{id:"canvas"}},[a("img",{staticClass:"bg",attrs:{src:this.imageList[0],alt:"bg"}}),a("div",{staticClass:"pic-area"},[a("img",{staticClass:"device",style:{height:100+10*t.picScale+"%",transform:"rotate("+5*t.picRotate+"deg)"},attrs:{src:"https://cdn.qiandaoapp.com/interior/images/57618974811e083b128531f6ae99b7d9.png",id:"pic",alt:"pic"}})]),this.drawing?a("img",{staticClass:"qrcode",attrs:{src:"https://cdn.qiandaoapp.com/interior/images/72a97aab77ca8936a3ed01770bd7ab9d.png"}}):t._e()]),a("div",{staticClass:"adjust-btn",on:{click:t.enlarge}},[a("img",{attrs:{src:"https://cdn.qiandaoapp.com/admins/c191208ccd5c3fe3e5e51b666db948df.png"}}),t._v(" 放大 ")]),a("div",{staticClass:"adjust-btn",on:{click:t.narrow}},[a("img",{attrs:{src:"https://cdn.qiandaoapp.com/admins/a02251abb7bb056bfe25d8b4b5179fc6.png"}}),t._v(" 缩小 ")]),a("div",{staticClass:"adjust-btn",on:{click:t.rotateLeft}},[a("img",{attrs:{src:"https://cdn.qiandaoapp.com/admins/b2ffaa9d9b9982349ccc8d16af70f7f9.png"}}),t._v(" 左转 ")]),a("div",{staticClass:"adjust-btn",on:{click:t.rotateRight}},[a("img",{attrs:{src:"https://cdn.qiandaoapp.com/admins/b4a8f886021ad42908bda302b529a233.png"}}),t._v(" 右转 ")]),a("div",{class:["btn","solid",{loader:this.drawing}],on:{click:t.drawImage}},[t.drawing?[t._v("生成中..")]:[t._v("生成图片")]],2),a("div",{staticClass:"btn line",on:{click:function(a){return t.goTo(1)}}},[t._v("重新选择")])]):t._e(),3===this.part?a("div",{staticClass:"final"},[a("img",{staticStyle:{width:"100%","border-radius":"5px"},attrs:{src:this.image}}),a("div",{staticClass:"tip"},[t._v("--- 长按上方图片，保存分享 ---")]),a("div",{staticClass:"btn line",on:{click:function(a){return t.goTo(2)}}},[t._v("重新调整")])]):t._e()])},e=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"footer"},[t._v(" Creative by "),a("a",{attrs:{href:"https://qiandao.cn/?_from=avp"}},[a("img",{staticClass:"logo",attrs:{src:"https://cdn.qiandaoapp.com/interior/images/057f2c3f9682d042899d9f1e5beedd5c.png",alt:"logo"}}),t._v(" 千岛 App ")]),t._v(" team ")])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"title"},[a("div",[t._v("提前看看你戴")]),a("div",{staticStyle:{"font-weight":"bold"}},[t._v("Apple Vision Pro 的样子")])])}],c=(i("14d9"),i("7cb2")),n=i("ed08"),o=i("c0e9"),r=i.n(o),d={data(){return{loading:!1,drawing:!1,part:1,imageList:[],picRotate:0,picScale:4,image:""}},methods:{goTo(t){this.part=t,this.drawing=!1,this.loading=!1},async getFile(t){const a=t.target.files;this.imageList=[];for(var i=0;i<a.length;i++){this.loading=!0;var s=a[i].name,e=s.lastIndexOf(".");if(-1!==e){var o=s.substr(e+1).toUpperCase();o=o.toLowerCase();const t=Object(n["i"])(),r=new File([a[i]],t+".jpeg"),d=await Object(c["b"])(r,"activity-temp.image");this.imageList.push(d.url)}}this.goTo(2),this.loading=!1},enlarge(){this.picScale+=1},narrow(){this.picScale-=1},rotateLeft(){this.picRotate-=1},rotateRight(){this.picRotate+=1},drawImage(){this.drawing=!0,this.$nextTick(()=>{setTimeout(()=>{r()(document.getElementById("canvas"),{allowTaint:!1,useCORS:!0,backgroundColor:this.bgColor,scale:4}).then(t=>{t.toBlob(async t=>{const a=Object(n["i"])(),i=new File([t],a+".jpeg"),s=await Object(c["b"])(i,"activity-temp.image");this.image=s.url,this.goTo(3)},"image/jpeg")}).catch(()=>{})},3e3)})}}},l=d,p=(i("15bd"),i("0c7c")),g=Object(p["a"])(l,s,e,!1,null,null,null);a["default"]=g.exports},ccfe:function(t,a,i){}}]);