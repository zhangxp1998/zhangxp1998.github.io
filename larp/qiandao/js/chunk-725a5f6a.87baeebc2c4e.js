(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-725a5f6a"],{1440:function(t,e,s){"use strict";s("3c51")},"18e5":function(t,e,s){"use strict";function a(t,e){return t/7500*100+e}function r(t,e="rem"){const s=/rpx/;return!window&&wx?t:"number"===typeof t?a(t,e):s.test(t)?a(+t.replace(s,""),e):t}s.d(e,"a",(function(){return r}))},2600:function(t,e,s){"use strict";s("c60b")},"3c51":function(t,e,s){},4789:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",{staticClass:"shop-item"},[e("div",{staticClass:"shop-item-left"},[t.itemData.cover?e("div",{staticClass:"shopimg"},[e(s.Thumbnail,{attrs:{url:t.itemData.cover,size:{width:"100%",height:"100%",styleName:"fill_w540_h432_jpg"}}})],1):t._e(),e("div",{staticClass:"info"},[e("div",{staticClass:"info-title"},[t._v(t._s(t.itemData.name))]),e("div",{staticClass:"info-count"},[t._v("今日共 "+t._s(t.itemData.spuCount)+" 件商品")]),t.itemData.count?e("div",{staticClass:"info-time"},[t._v(" 上次更新"+t._s(t.itemData.updateTime)+" ")]):t._e()])]),e("div",{staticClass:"shop-item-right"},[t._t("rightAction")],2)])},r=[],n=s("d17e"),i={__name:"shop-item",props:{itemData:{type:Object,default:()=>({})}},setup(t){const e=t;return{__sfc:!0,props:e,Thumbnail:n["a"]}}},o=i,c=(s("2600"),s("0c7c")),u=Object(c["a"])(o,a,r,!1,null,"87719f1c",null);e["a"]=u.exports},"50fd":function(t,e,s){},"51dc":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",{staticClass:"container"},[e("div",{staticClass:"topinfo",on:{click:s.toMySelling}},[t._v(" "+t._s(s.pageInfo.total)+"个商品已上架 "),e(s.ArrowRight,{attrs:{size:"14rpx",color:"#918B9F"}})],1),e("div",{staticClass:"shop"},t._l(s.pageInfo.listData,(function(a,r){return e("div",{key:r,on:{click:function(t){return s.goToMegaSpu(a)}}},[e(s.ShopItem,{attrs:{itemData:a}},[e("div",{attrs:{slot:"rightAction"},slot:"rightAction"},[+a.count<=0?e("div",[e("span",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),s.goToPublish(a.megaSpuId)}}},[e(s.DuButton,{attrs:{size:"small"}},[t._v("去发布")])],1)]):e("div",[e("span",{staticClass:"edit",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),s.goToPublish(a.megaSpuId)}}},[e(s.DuButton,{attrs:{size:"small",type:"recommend"}},[t._v("编辑")])],1),e("span",{staticClass:"offsale",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),s.handleOffSale(a.megaSpuId)}}},[e(s.DuButton,{attrs:{size:"small",type:"info"}},[t._v("下架")])],1)])])])],1)})),0),e("div",{staticClass:"checkin"},[e("div",{staticClass:"checkin-tips"},[t._v(" 点击「入园打卡」，自动定位位置，更新卡片状态 ")]),e(s.DuButton,{attrs:{size:"medium",type:"primary",full:""},on:{click:s.handleCheckin}},[t._v(" 今日入园打卡 ")]),e("div",{staticClass:"checkin-bottom"})],1)])},r=[],n=(s("e17f"),s("2241")),i=(s("14d9"),s("2b0e")),o=s("5a0c"),c=s.n(o),u=s("809c"),l=s("39d4"),p=s("a382"),g=s("4789"),d=s("4cce"),f=s("b140"),h=s("a37c"),m=s("cf63"),v=(s("dd65"),s("ccbb")),y={__name:"list",setup(t){const e=[{name:"商店1",goodsCount:"66",hasOnSaleGoods:!0,updateTime:+new Date},{name:"商店2",goodsCount:"66",hasOnSaleGoods:!0},{name:"商店3",goodsCount:"66",hasOnSaleGoods:!1,updateTime:+new Date},{name:"商店3",goodsCount:"66",hasOnSaleGoods:!1,updateTime:+new Date},{name:"商店3",goodsCount:"66",hasOnSaleGoods:!1,updateTime:+new Date}],s=h["d"]?["120043","120044"]:["139082","139081"],{proxy:a}=Object(i["getCurrentInstance"])(),r=Object(i["ref"])({total:0,listData:[]}),o=async()=>{console.log("handleCheckin111===");const t=await d["a"].getLocationByLngLat();if("上海市"===t.data.name){const t=await Object(f["j"])({megaSpuIds:s});console.log(t),0===t.code?p["c"].show({icon:"none",title:"打卡成功，已更新挂单信息"}):p["c"].show({icon:"none",title:"打卡失败"})}else p["c"].show({icon:"none",title:"获取位置失败"});console.log("res!!!!",t)},y=()=>{a.navigateTo({url:"/pages-me/users/product-on-sale"})},b=t=>{a.navigateTo({url:"/pages-market/spu/index?id="+t.megaSpuId})},w=t=>{a.navigateTo({url:`/modules/pages/web-view/index?url=${encodeURIComponent(`${m["a"].web}/plugin/disney-publish-new?megaSpuId=${t}`)}&ut=true`})},S=async t=>{try{await n["a"].confirm({message:"下架该系列所有商品吗",className:"dialog-container",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"确认"}),await v["a"].doProductsOffSale({megaSpuId:t}),p["c"].show({icon:"none",title:"下架成功"}),C()}catch(e){}},C=async()=>{const t=await Object(f["c"])({megaSpuIds:s}),e=[];for(const s in t.data.info)t.data.info[s].megaSpuId=s,t.data.info[s].updateTime=c()(1e3*+t.data.info[s].updateTime).format("YYYY年M月D日"),e.push(t.data.info[s]);r.value.total=t.data.total,r.value.listData=e};return C(),{__sfc:!0,tempList:e,megaSpuIds:s,proxy:a,pageInfo:r,handleCheckin:o,toMySelling:y,goToMegaSpu:b,goToPublish:w,handleOffSale:S,initList:C,ArrowRight:u["a"],DuButton:l["a"],ShopItem:g["a"]}}},b=y,w=(s("5bc0"),s("0c7c")),S=Object(w["a"])(b,a,r,!1,null,"4bd40d94",null);e["default"]=S.exports},"5bc0":function(t,e,s){"use strict";s("a5e1")},"809c":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"arrow-right",style:{"border-color":t.color,width:t.realSize,height:t.realSize,"margin-left":t.marginLeftStr}})},r=[],n=s("18e5"),i={props:{size:{type:String,default:"17rpx"},color:{type:String,default:"rgba(32, 36, 38, .2)"},marginLeft:{type:[String,Number],default:""}},computed:{realSize(){return Object(n["a"])(this.size)},marginLeftStr(){const{marginLeft:t}=this;return"number"===typeof t?t+"rpx":t}}},o=i,c=(s("1440"),s("0c7c")),u=Object(c["a"])(o,a,r,!1,null,"78e06718",null);e["a"]=u.exports},a5e1:function(t,e,s){},b140:function(t,e,s){"use strict";s.d(e,"a",(function(){return r})),s.d(e,"j",(function(){return n})),s.d(e,"c",(function(){return i})),s.d(e,"b",(function(){return o})),s.d(e,"f",(function(){return c})),s.d(e,"g",(function(){return u})),s.d(e,"d",(function(){return l})),s.d(e,"h",(function(){return p})),s.d(e,"e",(function(){return g})),s.d(e,"i",(function(){return d}));var a=s("0ef7");const r=t=>a["b"].post("user/products/off-sale-by-spec",t),n=t=>a["c"].post("/v1/c2c/products/clock-in-mega-spu",t),i=t=>a["c"].post("/v1/c2c/products/get-by-mega-spu",t),o=t=>a["c"].post("/v1/c2c/products/upsert-by-mega-spu",t),c=t=>a["c"].post("/v1/poster/4year-report",t),u=t=>a["c"].post("/v1/poster/4year-title",t),l=t=>a["c"].get("/v1/luckybag/fission-landing-page-info",t),p=t=>a["c"].post("/v1/luckybag/fission-participant",t),g=t=>a["c"].get("/v1/luckybag/list",t),d=t=>a["c"].post("/v1/common/submit-court-evidence",t)},c60b:function(t,e,s){},ccbb:function(t,e,s){"use strict";var a=s("0ef7");e["a"]={getStandardProducts(t){return a["p"].get(`/spus/${t}/standard-products`)},getSPUs(t){return a["p"].get("/v2/spus",t)},getSingleSpu(t,e){return a["p"].get("/v2/spus/"+t,e)},getUserPosters(t){return a["h"].post("/c2c-web/v1/poster/get-user-posters",t)},doProductsOffSale(t){return a["h"].post("/c2c-web/v1/c2c/products/off-sale",t)},plastSearchCategory(t){return a["h"].get("/plast/search/category/v3",t)},createUserPoster(t){return a["h"].post("/c2c-web/v1/poster/create-user-poster",t)},getSPUSpecs(t){return a["p"].get(`/spus/${t}/specs`)},updateC2cProductsByCategory(t){return a["h"].post("/c2c/products/m-update",t)},updateProductMulti(t){return a["h"].post("/c2c/products/multi-create",t)},createProductMulti(t){return a["h"].post("/c2c/products/m-create-update",t)},getProductsByCategory(t){return a["h"].get("/c2c/products/by-category",t)},getCategoryDetail(t,e){return a["p"].get("/v2/categories/"+t,e)},getCategories(t){return a["p"].get("/v2/categories",t)},getRecommendCategories(t){return a["p"].get(`/v2/categories/${t}/recommend`)},getCategoryTags(t){return a["p"].get(`/v2/categories/${t}/config`)},getTag(t,e){return a["p"].get("/tags/"+t,e)},getHotTags(t){return a["p"].get(`/tags/${t}/config`)},getTags(t){return a["p"].get("/tags",t)},searchCategories(t){return a["p"].get("/v2/categories",t)},getSettings(){return a["p"].get("/settings")},changeWishes(t){return a["p"].post("/wish-list",t)},updateUserSettings(t){return a["p"].put("/settings",t)},getPosterColumnConfig(t){return a["l"].get("/action/get-products-poster",t)},getPosterThemes(t){return a["l"].get("/action/get-poster-themes",t,{isErrorDefaultTip:!1})},getWishList(t){return a["p"].get("/wish-list",t,{isErrorDefaultTip:!1})},getWishMatches(t){return a["p"].get("/products/match/wish-list",t,{isErrorDefaultTip:!1})},getDemandProductList(t){return a["p"].get("/products/match/demand-list",t)},getTradeInfo(t){return a["p"].post("/action/get-trade-info",t)},get360DegImages(t){return a["p"].get(`/spus/${t}/360-degree-images`)},getBarginSpus(t){return a["p"].post("/stock-order/bargin",t)},getSpecsByMPName(t){return a["p"].get("/specs/aciton/get-by-app-name",t)},getDistribution(t){return a["p"].get("/feeds/chaowan",t)},getSellingCategories(t){return a["p"].get("/products/action/get-selling-categories",t)},getCategoryCount(t){return a["p"].get("/products/action/get-category-product-count",t)},getSpuList(t){return a["h"].post("/treasure/spus/search/simple-info",t)},getSpuHeader(t){return a["h"].get("/treasure/flora/v2/spu/simpleInfo",t)},getSpuDetails(t){return a["h"].get("/treasure/flora/v1/spu/detailInfo",t)},getTagList(t){return a["h"].get("/treasure/tags",t)},getTagDetails(t){return a["h"].get("/treasure/flora/v1/tag/detailInfo",t)},getTagDetailsV2(t){return a["h"].get("/treasure/flora/v2/tag/simpleInfo",t)},searchSpuInTag(t){return a["h"].get("/plast/search/spu",t)},searchTag(t){return a["h"].get("/plast/search/tag",t)},getXiaokaWebConfig(){return a["e"].get("/vinyl/web.json")},getTagsV2(t){return a["h"].get("/armory/entry/tags",t)}}},cd4a:function(t,e,s){"use strict";s("50fd")},d17e:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ec-thumbnail",style:{width:t.cssWidth,height:t.cssHeight,"border-radius":t.cssBorderRadius,...t.extStyle}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.showDisplayImage,expression:"showDisplayImage"}],staticClass:"ec-thumbnail__image",attrs:{src:t.displaySrc,alt:t.alt,loading:"lazy","lazy-load":"",mode:"aspectFill"},on:{click:t.handlePreview}}),e("img",{directives:[{name:"show",rawName:"v-show",value:!t.showDisplayImage,expression:"!showDisplayImage"}],staticClass:"ec-thumbnail__image",attrs:{src:t.defaultUrl,alt:"默认图片",loading:"lazy","lazy-load":"",mode:"aspectFill"}})])},r=[],n=(s("4662"),s("28a2")),i=s("18e5"),o={props:{url:{type:String,required:!0},defaultUrl:{type:String,default:""},size:{type:Object,default:()=>({})},alt:{type:String,default:""},borderRadius:{type:[Number,String],default:0},preview:{type:Boolean,default:!1},extStyle:{type:Object,default:()=>{}}},data(){return{showDisplayImage:!0,displaySrc:""}},watch:{targetUrl:{immediate:!0,handler(t,e){t&&t!==e&&this.setDisplaySrc()}}},computed:{cssBorderRadius(){return Object(i["a"])(this.borderRadius)},cssWidth(){const{width:t}=this.size;return t?"string"===typeof t?t:t+"px":"100%"},cssHeight(){const{height:t}=this.size;return t?"string"===typeof t?t:t+"px":"100%"},targetUrl(){const{url:t,size:{style:e}}=this;return e?t+e:t}},methods:{setDisplaySrc(){this.displaySrc=this.targetUrl},handlePreview(){const{url:t,preview:e}=this;e&&Object(n["a"])({images:[t+"!lfit_w1080_jpg"],closeable:!0})}}},c=o,u=(s("cd4a"),s("0c7c")),l=Object(u["a"])(c,a,r,!1,null,null,null);e["a"]=l.exports}}]);