(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6960130c"],{1422:function(t,e,a){},1440:function(t,e,a){"use strict";a("3c51")},"18e5":function(t,e,a){"use strict";function s(t,e){return t/7500*100+e}function r(t,e="rem"){const a=/rpx/;return!window&&wx?t:"number"===typeof t?s(t,e):a.test(t)?s(+t.replace(a,""),e):t}a.d(e,"a",(function(){return r}))},"1b64":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return t.spu?e("div",{staticClass:"spu-box"},[e("div",{class:"cover"},[e("div",{class:""+(t.spu.data.stock<=0&&"cover-mask")}),e("Thumbnail",{attrs:{url:t.spu.cover}}),t.isEdit?e("div",{staticClass:"cover-info"},[e("div",{staticClass:"cover-info-name"},[t._v(t._s(t.spu.name))]),e("div",{staticClass:"cover-info-price"},[t._v(" ¥"+t._s(t.spu.data.price||parseFloat((t.totalPrice/t.count).toFixed(2)))+" ")])]):e("div",[0!=t.proportionValue&&t.standardPrice?e("div",{class:`cover-proportion ${t.proportionValue>1&&"cover-proportion--plus"} ${t.proportionValue<1&&"cover-proportion--minus"}`},[t._v(" "+t._s(t.proportionValue)+" ")]):t._e()])],1),[t.isEdit?e("div",[e("div",{staticClass:"diffPrice calculate"},[e("div",{staticClass:"icon",on:{click:function(e){t.handleSetPrice(Number(t.spu.data.multiple)-.1)}}},[e("img",{attrs:{src:"https://cdn.qiandaoapp.com/admins/1067ca66f399a12624599259b05546ec.png",alt:""}})]),t.priceFocus?e("input",{class:{input:!0,minus:t.spu.data.price<0,plus:t.spu.data.price>0},attrs:{type:"number",id:"price"+t.index},domProps:{value:t.spu.data.multiple},on:{change:t.changePrice,blur:function(e){return t.hanldeBlur("price")}}}):e("div",{class:{input:!0,minus:t.spu.data.multiple<1,plus:t.spu.data.multiple>1},on:{click:function(e){return t.hanldeFocus("price")}}},[t._v(" "+t._s(t.spu.data.multiple>=0?""+t.spu.data.multiple:t.spu.data.multiple)+" ")]),e("div",{staticClass:"icon",on:{click:function(e){t.handleSetPrice(Number(t.spu.data.multiple)+.1)}}},[e("img",{attrs:{src:"https://cdn.qiandaoapp.com/admins/8ea2b1893b70c80abd1c14ce8a78315f.png",alt:""}})])]),t.spu.data.stock>0?e("div",{staticClass:"take-sapce",on:{click:function(e){return t.handleSetCount(0)}}},[t._v(" 自留/已拼 ")]):e("div",{staticClass:"release-space",on:{click:function(e){return t.handleSetCount(1)}}},[t._v(" 开启车位 ")])]):e("div",{staticClass:"carmenu"},[e("div",{staticClass:"carmenu-content"},[e("div",{class:""+(t.spu.data.stock<=0&&"cover-mask")}),e("div",{staticClass:"name"},[t._v(t._s(t.spu.name))]),t.spu.data.stock>0?e("div",{staticClass:"price"},[t._v(" ¥"+t._s(t.spu.data.price)+" ")]):e("div",{staticClass:"price"},[t._v("没位置了")])]),t.spu.data.stock>0?e("div",{staticClass:"carmenu-in"},[e("LoginButton",{on:{success:t.inToCar}},[t._v("上车")])],1):e("div",{staticClass:"carmenu-another"},[e("span",{staticClass:"carmenu-another-label",on:{click:t.toAnotherCar}},[t._v(" 还有"+t._s(t.spu.data.anotherCount)+"车 ")]),e("ArrowRight",{attrs:{color:"#7C66FF",size:"8rpx"}})],1)])]],2):t._e()},r=[],i=(a("2f62"),a("2b0e")),n=a("d17e"),c=a("809c"),o=a("a382"),u=a("8a44"),l={components:{Thumbnail:n["a"],ArrowRight:c["a"],LoginButton:u["a"]},props:{isEdit:{type:Boolean,default:!1},spu:{type:Object,default:null},index:{type:Number,default:0},standardPrice:{type:Number,default:0},totalPrice:{type:Number,default:0},count:{type:Number,default:0}},setup(t,{emit:e}){const a=Object(i["reactive"])({stockFocus:!1,priceFocus:!1}),s=Object(i["computed"])(()=>{try{const{spu:e,standardPrice:a}=t,s=e.data.price/a,r=1===s;return r?1:parseFloat(s.toFixed(2)).toString()}catch(e){return"--"}});function r(e=0){const a=t.totalPrice/t.count;console.log("num==-=-",e),Number.isNaN(e)&&(e=0),e=Math.round(100*e)/100,g("price",parseFloat((a*e).toFixed(2))),g("multiple",e)}function n(t){g("stock",t)}function c(){e("inToCar",t.spu)}function u(){e("toAnotherCar",t.spu)}function l(t){r(Number(t.target.value)||0)}function p(t){t<0&&(t=0),t>999&&(t=999,o["c"].show({icon:"none",title:"余量不能超过999"})),g("stock",t)}function d(t){const e=parseInt(t.target.value||0);p(e)}function g(t,a){e("setData",{key:t,num:a})}function m(e){const s=e+"Focus";a[s]=!0,Object(i["nextTick"])(()=>{document.getElementById(`${e}${t.index}`).focus()})}function f(t){const e=t+"Focus";a[e]=!1}return{...Object(i["toRefs"])(a),handleSetPrice:r,proportionValue:s,handleSetCount:n,inToCar:c,toAnotherCar:u,changePrice:l,handleSetStock:p,changeStock:d,hanldeFocus:m,hanldeBlur:f}}},p=l,d=(a("37f7"),a("0c7c")),g=Object(d["a"])(p,s,r,!1,null,null,null);e["a"]=g.exports},"37f7":function(t,e,a){"use strict";a("1422")},"3c51":function(t,e,a){},"50fd":function(t,e,a){},"62a6":function(t,e,a){},"7bbd":function(t,e,a){"use strict";a("62a6")},"7f29":function(t,e,a){"use strict";function s(t,e=2,a=!1){return t=(+t).toFixed(e),a?t:Number(t)+""}a.d(e,"a",(function(){return s}))},"809c":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"arrow-right",style:{"border-color":t.color,width:t.realSize,height:t.realSize,"margin-left":t.marginLeftStr}})},r=[],i=a("18e5"),n={props:{size:{type:String,default:"17rpx"},color:{type:String,default:"rgba(32, 36, 38, .2)"},marginLeft:{type:[String,Number],default:""}},computed:{realSize(){return Object(i["a"])(this.size)},marginLeftStr(){const{marginLeft:t}=this;return"number"===typeof t?t+"rpx":t}}},c=n,o=(a("1440"),a("0c7c")),u=Object(o["a"])(c,s,r,!1,null,"78e06718",null);e["a"]=u.exports},"8a44":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{style:t.styles,on:{click:t.checkLogin}},[t._t("default")],2)},r=[],i=a("2f62"),n=a("e8ad"),c={computed:{...Object(i["mapState"])("user",["me"]),...Object(i["mapState"])("app",["isProduction"])},props:{redirectPath:{type:String},styles:{type:String},loginModal:{type:Boolean,default:!1}},methods:{...Object(i["mapActions"])("user",["login"]),checkLogin(){const t=this.$route.query,{ignoreAuth:e}=t||{};if(e&&window.location.origin.indexOf("localhost")>-1)return void this.$emit("success");const{me:a,redirectPath:s}=this;a&&a.id?this.$emit("success",a):Object(n["a"])({redirectPath:s})}}},o=c,u=a("0c7c"),l=Object(u["a"])(o,s,r,!1,null,"d46cf5e6",null);e["a"]=l.exports},ccbb:function(t,e,a){"use strict";var s=a("0ef7");e["a"]={getStandardProducts(t){return s["p"].get(`/spus/${t}/standard-products`)},getSPUs(t){return s["p"].get("/v2/spus",t)},getSingleSpu(t,e){return s["p"].get("/v2/spus/"+t,e)},getUserPosters(t){return s["h"].post("/c2c-web/v1/poster/get-user-posters",t)},doProductsOffSale(t){return s["h"].post("/c2c-web/v1/c2c/products/off-sale",t)},plastSearchCategory(t){return s["h"].get("/plast/search/category/v3",t)},createUserPoster(t){return s["h"].post("/c2c-web/v1/poster/create-user-poster",t)},getSPUSpecs(t){return s["p"].get(`/spus/${t}/specs`)},updateC2cProductsByCategory(t){return s["h"].post("/c2c/products/m-update",t)},updateProductMulti(t){return s["h"].post("/c2c/products/multi-create",t)},createProductMulti(t){return s["h"].post("/c2c/products/m-create-update",t)},getProductsByCategory(t){return s["h"].get("/c2c/products/by-category",t)},getCategoryDetail(t,e){return s["p"].get("/v2/categories/"+t,e)},getCategories(t){return s["p"].get("/v2/categories",t)},getRecommendCategories(t){return s["p"].get(`/v2/categories/${t}/recommend`)},getCategoryTags(t){return s["p"].get(`/v2/categories/${t}/config`)},getTag(t,e){return s["p"].get("/tags/"+t,e)},getHotTags(t){return s["p"].get(`/tags/${t}/config`)},getTags(t){return s["p"].get("/tags",t)},searchCategories(t){return s["p"].get("/v2/categories",t)},getSettings(){return s["p"].get("/settings")},changeWishes(t){return s["p"].post("/wish-list",t)},updateUserSettings(t){return s["p"].put("/settings",t)},getPosterColumnConfig(t){return s["l"].get("/action/get-products-poster",t)},getPosterThemes(t){return s["l"].get("/action/get-poster-themes",t,{isErrorDefaultTip:!1})},getWishList(t){return s["p"].get("/wish-list",t,{isErrorDefaultTip:!1})},getWishMatches(t){return s["p"].get("/products/match/wish-list",t,{isErrorDefaultTip:!1})},getDemandProductList(t){return s["p"].get("/products/match/demand-list",t)},getTradeInfo(t){return s["p"].post("/action/get-trade-info",t)},get360DegImages(t){return s["p"].get(`/spus/${t}/360-degree-images`)},getBarginSpus(t){return s["p"].post("/stock-order/bargin",t)},getSpecsByMPName(t){return s["p"].get("/specs/aciton/get-by-app-name",t)},getDistribution(t){return s["p"].get("/feeds/chaowan",t)},getSellingCategories(t){return s["p"].get("/products/action/get-selling-categories",t)},getCategoryCount(t){return s["p"].get("/products/action/get-category-product-count",t)},getSpuList(t){return s["h"].post("/treasure/spus/search/simple-info",t)},getSpuHeader(t){return s["h"].get("/treasure/flora/v2/spu/simpleInfo",t)},getSpuDetails(t){return s["h"].get("/treasure/flora/v1/spu/detailInfo",t)},getTagList(t){return s["h"].get("/treasure/tags",t)},getTagDetails(t){return s["h"].get("/treasure/flora/v1/tag/detailInfo",t)},getTagDetailsV2(t){return s["h"].get("/treasure/flora/v2/tag/simpleInfo",t)},searchSpuInTag(t){return s["h"].get("/plast/search/spu",t)},searchTag(t){return s["h"].get("/plast/search/tag",t)},getXiaokaWebConfig(){return s["e"].get("/vinyl/web.json")},getTagsV2(t){return s["h"].get("/armory/entry/tags",t)}}},cd4a:function(t,e,a){"use strict";a("50fd")},d17e:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ec-thumbnail",style:{width:t.cssWidth,height:t.cssHeight,"border-radius":t.cssBorderRadius,...t.extStyle}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.showDisplayImage,expression:"showDisplayImage"}],staticClass:"ec-thumbnail__image",attrs:{src:t.displaySrc,alt:t.alt,loading:"lazy","lazy-load":"",mode:"aspectFill"},on:{click:t.handlePreview}}),e("img",{directives:[{name:"show",rawName:"v-show",value:!t.showDisplayImage,expression:"!showDisplayImage"}],staticClass:"ec-thumbnail__image",attrs:{src:t.defaultUrl,alt:"默认图片",loading:"lazy","lazy-load":"",mode:"aspectFill"}})])},r=[],i=(a("4662"),a("28a2")),n=a("18e5"),c={props:{url:{type:String,required:!0},defaultUrl:{type:String,default:""},size:{type:Object,default:()=>({})},alt:{type:String,default:""},borderRadius:{type:[Number,String],default:0},preview:{type:Boolean,default:!1},extStyle:{type:Object,default:()=>{}}},data(){return{showDisplayImage:!0,displaySrc:""}},watch:{targetUrl:{immediate:!0,handler(t,e){t&&t!==e&&this.setDisplaySrc()}}},computed:{cssBorderRadius(){return Object(n["a"])(this.borderRadius)},cssWidth(){const{width:t}=this.size;return t?"string"===typeof t?t:t+"px":"100%"},cssHeight(){const{height:t}=this.size;return t?"string"===typeof t?t:t+"px":"100%"},targetUrl(){const{url:t,size:{style:e}}=this;return e?t+e:t}},methods:{setDisplaySrc(){this.displaySrc=this.targetUrl},handlePreview(){const{url:t,preview:e}=this;e&&Object(i["a"])({images:[t+"!lfit_w1080_jpg"],closeable:!0})}}},o=c,u=(a("cd4a"),a("0c7c")),l=Object(u["a"])(o,s,r,!1,null,null,null);e["a"]=l.exports},df74:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("Popup",{model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e("div",{staticClass:"dialog-poster",on:{click:function(e){return t.changeShow(!1)}}},[e("div",{staticClass:"dialog-sale",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"dialog-title"},[e("img",{staticClass:"icon",attrs:{src:"https://cdn.qiandaoapp.com/interior/images/945b612d07026080c932ac33bc9eca76.png",alt:""}}),e("div",[t._v("成功发布商品 "+t._s(t.sales.total)+" 个")])]),t.sales.list.length?e("div",{staticClass:"dialog-sale-product"},[e("div",{staticClass:"linear"}),t._l(t.sales.list,(function(a,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"item-cover"},[e("Thumbnail",{attrs:{url:a.cover||""}})],1),e("div",[e("div",{staticClass:"item-price"},[t._v("¥"+t._s(a.data.price))]),e("div",{staticClass:"item-stock"},[t._v(" 库存"+t._s(t.numberToFixed(a.data.stock,2))+" ")])])])}))],2):t._e(),e("div",{staticClass:"dialog-sale-button u-flex-c-c",on:{click:t.handleGo2AllSale}},[t._v(" 查看我的在卖的 "),e("img",{attrs:{src:"https://cdn.qiandaoapp.com/interior/images/44c502b87c5841ad3371135b6552d3e3.png",alt:""}})])]),e("img",{staticClass:"dialog-image",attrs:{src:"https://cdn.qiandaoapp.com/interior/images/3f897b8cb4f79a329eb1483b500e3b63.png",alt:""}}),e("div",{staticClass:"dialog-scroll",attrs:{"scroll-y":"true"},on:{click:function(t){t.stopPropagation()}}},[e("VanImage",{staticClass:"poster",attrs:{src:t.url},scopedSlots:t._u([{key:"loading",fn:function(){return[e("div",{staticClass:"u-flex-c"},[e("VanLoading",{attrs:{type:"spinner",size:"20"}}),t._v(" 海报加载中 ")],1)]},proxy:!0},{key:"error",fn:function(){return[t._v("海报加载失败")]},proxy:!0}])})],1),e("p",[t._v("↑ 长按图片保存 ↑")]),e("div",{staticClass:"dialog-buttton",on:{click:function(e){return e.stopPropagation(),t.handleSale.apply(null,arguments)}}},[t._v("我的全部拼车")])])])},r=[],i=(a("ac1e"),a("543e")),n=(a("4056"),a("44bf")),c=(a("8a58"),a("e41f")),o=a("7f29"),u=a("2b0e"),l=a("d17e"),p=a("cf63"),d=a("4360"),g=a("5ff2"),m={components:{Popup:c["a"],VanImage:n["a"],VanLoading:i["a"],Thumbnail:l["a"]},props:{remark:{type:String,default:""},price:{type:[String,Number],default:0},categoryId:{type:String,default:""},megaSpuId:{type:String,default:""},sales:{type:Object,default:()=>({total:0,list:[]})},propertyId:{type:String,default:""}},setup(t,{emit:e}){const{proxy:a}=Object(u["getCurrentInstance"])(),s=Object(u["reactive"])({show:!1,url:""});Object(u["watch"])(()=>s.show,(t,a)=>{a&&!1===t&&e("init")},{immediate:!0});const r=Object(u["computed"])(()=>{var t;return null===(t=d["a"].state.user.me)||void 0===t?void 0:t.id});function i(e=!1){if(e){const{pkg:e}=a.$route.query,{remark:i,categoryId:n,propertyId:c,megaSpuId:o,price:u}=t,l=Object(g["c"])({remark:encodeURIComponent(t.remark),t:(new Date).getTime(),pkg:e,price:u,categoryId:n,propertyId:c,userId:r.value,megaSpuId:o});s.url=`${p["a"].api}/poster/action/get-category-group-poster?${l}`}s.show=e}function n(){a.navigateTo({url:`/modules/pages/web-view/index?url=${encodeURIComponent(p["a"].web+"/plugin/category-publish/list")}&ut=true`})}function c(){a.navigateTo({url:"/pages-me/users/product-on-sale?source=selling"})}return{...Object(u["toRefs"])(s),changeShow:i,handleSale:n,handleGo2AllSale:c,numberToFixed:o["a"]}},emits:["setAveragePrice"]},f=m,h=(a("7bbd"),a("0c7c")),v=Object(h["a"])(f,s,r,!1,null,null,null);e["a"]=v.exports}}]);