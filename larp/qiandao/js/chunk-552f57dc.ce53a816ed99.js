(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-552f57dc"],{6464:function(t,s,e){},"684b":function(t,s,e){"use strict";var a=e("0ef7");s["a"]={getPostAnalysis(t){return a["d"].get("/analysis/"+t)},createPostReviewV3(t){return a["h"].post("/gactus/post-review-v3",t)},updatePostReviewV3(t){return a["h"].put("/gactus/post-review-v3",t)},deleteSpuMark(t){return a["h"].post("/gactus/delete-spu-mark",t)},createPostArticle(t){return a["h"].post("/gactus/posts-article",t)},getPostListByTopic(t){return a["h"].post("/gactus/topics/posts-v3",t)},getPostListByTag(t){return a["h"].post("/gactus/posts/by-tag-v4",t)},mark(t){return a["h"].post("/gactus-web/v1/mark/edit",t)},createPost(t){return a["h"].post("/gactus-web/post/create",t)},createPostStandard(t){return a["h"].post("/gactus-web/post/standard/create",t)},updatePostStandard(t){return a["h"].post("/gactus-web/post/standard/update",t)},comment(t){return a["h"].post("/cactus-api/comments",t)},getUserHobbyMark(t){return a["h"].post("/gactus/user-hobby-mark",t)},getUserMark(t){return a["h"].post("/gactus-web/v1/get-user-marks",t)},getUserHobbyList(t){return a["h"].get("/gactus-web/v1/interest/list",{uid:t})},gstoneGames(t){return a["h"].post("/config-go/redirect/gstoneGames",t)}}},"7cb2":function(t,s,e){"use strict";e.d(s,"b",(function(){return r})),e.d(s,"c",(function(){return n})),e.d(s,"a",(function(){return c}));var a=e("0ef7"),i=e("0d94"),o=e("a37c");async function r(t,s="interior-admin.image"){const e=Object(i["e"])({isProd:o["e"],async customApiCall(t){var s;const e=await a["h"].post("/uploader/gene-post-object-sign",t);return null===(s=e.data)||void 0===s?void 0:s[0]}});return e({file:t,scene:s})}function n(t){return a["h"].get("/uploader/file-space/get",t)}function c(t,s="interior-admin.image"){const e=Object(i["e"])({isProd:o["e"],async customApiCall(t){var s;const e=await a["h"].post("/uploader/anonymous/gene-post-object-sign",t);return null===(s=e.data)||void 0===s?void 0:s[0]}});return e({file:t,scene:s})}},c7ad:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"hobby-card"},[s("div",{staticClass:"final",attrs:{id:"canvas"}},[t.image?[s("img",{staticClass:"draw",attrs:{src:t.image}})]:s("div",{staticClass:"poster"},[s("img",{staticClass:"header",attrs:{src:"https://cdn.qiandaoapp.com/interior/images/5e2b565c2117dc63cd66958b23b265bd.png"}}),t._m(0),s("div",{staticClass:"info"},[s("img",{staticClass:"card-header",attrs:{src:"https://cdn.qiandaoapp.com/interior/images/f7c7bde833a8494e49323112cedc20f1.png"}}),s("div",{staticClass:"avatar"},[s("div",{staticClass:"wrap"},[s("img",{attrs:{src:this.me.avatar}})]),s("div",{staticClass:"followCount"},[t._v(" "+t._s(this.followCount)+"关注｜"+t._s(this.fansCount)+"粉丝 ")])]),s("div",{staticClass:"analysis"},[s("div",{staticClass:"subtitle"},[t._v("姓名/NAME")]),s("div",{staticClass:"content"},[t._v(t._s(this.me.nickName))]),s("div",{staticClass:"subtitle"},[t._v("登岛时间/TIME OF LANDING")]),s("div",{staticClass:"content"},[t._v(t._s(this.createdAt))]),s("div",{staticClass:"subtitle"},[t._v("兴趣档案/MAKE A RECORD")]),s("div",{staticClass:"content"},[s("div",{staticClass:"count"},[t._v(t._s(this.postCount))]),t._v(" 帖子 "),s("div",{staticClass:"count"},[t._v(t._s(this.receivedPostVoteCount))]),t._v(" 点赞 "+t._s(this.markName)+" "),s("div",{staticClass:"count"},[t._v(t._s(this.markCount))]),t._v(" "+t._s(this.hobbyName)+" ")]),s("div",{staticClass:"subtitle"},[t._v("个性签名/PERSONAL SIGNATURE")]),s("div",{staticClass:"content",staticStyle:{"font-size":"12px","font-weight":"normal"}},[t._v(" "+t._s(this.me.intro)+" ")])])]),s("div",{staticClass:"qrcode"},[s("img",{staticClass:"qrcode-img",attrs:{src:this.qrcode}}),s("div",{staticClass:"tip"},[t._v("扫码来关注我吧")])]),s("img",{staticClass:"footer",attrs:{src:"https://cdn.qiandaoapp.com/interior/images/f626327371e2a3c7dbb90aa595a30244.png"}})])],2),s("div",{staticClass:"footer-tip"},[t.image?[s("div",{staticClass:"tip"},[t._v("一一 长 按 上 方 图 片 保 存 一一")])]:s("div",{staticClass:"loader"},[t._v("图片生成中…")])],2)])},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"logo"},[s("img",{staticClass:"qiandao",attrs:{src:"https://cdn.qiandaoapp.com/interior/images/e288725df0e0a4830aa64ddbb68b42a9.png"}})])}],o=e("c0e9"),r=e.n(o),n=e("2f62"),c=e("7cb2"),u=e("ed08"),d=e("684b"),l=e("dd8a"),p=e("4cce"),g=e("5a0c"),m=e.n(g),h={data(){return{loading:!1,fansCount:"",followCount:"",postCount:"",receivedPostVoteCount:"",hobbyId:"",markCount:"",markName:"",hobbyName:"",qrcode:"",createdAt:"",image:""}},computed:{...Object(n["mapState"])("user",["me"])},async mounted(){var t;"{}"===JSON.stringify(this.me)&&this.logIn();const s=null===(t=this.$route)||void 0===t?void 0:t.query;s.hobbyId&&(this.hobbyId=s.hobbyId),this.createdAt=m()(this.me.createdAt).format("YYYY年MM月DD日");var e={hobbyId:this.hobbyId,limit:100,offset:0,userId:this.me.id};try{const t=await d["a"].getUserHobbyMark(e);"{}"!==JSON.stringify(t.data)&&(this.markCount=t.data.markCountWords.match(/\d+/)[0],this.markName=t.data.markName,this.hobbyName=t.data.hobbyName)}catch(i){console.error(i)}try{const t=await p["a"].getAnalysis(this.me.id);this.fansCount=t.fansCount,this.followCount=t.followCount,this.postCount=t.postCount,this.receivedPostVoteCount=t.receivedPostVoteCount}catch(i){console.error(i)}var a=1012;"1000225"===this.hobbyId&&(a=1020);try{const t=await l["a"].getQrcode({path:"/pages-common/user-home-page/index?userId="+this.me.id+"&defaultTab=interests&it=1",packageId:a});this.qrcode=t}catch(i){console.error(i)}this.drawImage()},methods:{logIn(){const t="/modules/pages/common-login/index";(Object(u["h"])()||Object(u["d"])())&&this.navigateTo({url:t})},drawImage(){this.$nextTick(()=>{setTimeout(()=>{r()(document.getElementById("canvas"),{allowTaint:!1,useCORS:!0,backgroundColor:"black"}).then(t=>{t.toBlob(async t=>{const s=Object(u["i"])(),e=new File([t],s+".jpeg"),a=await Object(c["b"])(e,"activity-temp.image");this.image=a.url},"image/jpeg"),this.$toast.show({title:"图片已生成，长按保存"})}).catch(()=>{})},3e3)})}}},v=h,b=(e("d08b"),e("0c7c")),f=Object(b["a"])(v,a,i,!1,null,null,null);s["default"]=f.exports},d08b:function(t,s,e){"use strict";e("6464")},dd8a:function(t,s,e){"use strict";var a=e("0ef7");s["a"]={myPokemon(t){return a["q"].get("/v1/pokemon/my",t)},nextStep(t){return a["q"].post("/v1/pokemon/next-step",t)},searchSpuByImage(t){return a["q"].post("/v1/image/search/spu",t)},searchSpuByAggregateImages(t){return a["q"].post("/v1/image/search/multi/spu/v2",t)},ocr(t){return a["j"].post("/z/stargazing/z/ocr",t)},getQrcode(t){return a["j"].get("/z/poster-web/wechat/mp-qrcode",t)},getSpuOpposite(t){return a["j"].post("/treasure/spus/opposite/list",t)},getSpuWithRelated(t){return a["j"].post("/treasure/v1/search/spu/with/related",t)},getSpuWaterfall(t){return a["j"].get("/treasure/v1/waterfall/list",t)},fetchStep2BizConfig(){return a["j"].get("https://config-cdn.qiandaoapp.com/mp-common/pluginsBizConfig.json")},getRankInfo(t){return a["j"].get("/treasure/flora/v1/rank",t)},getByDistributedTagIds(t){return a["j"].post("/treasure/v1/public-relations/byDistributedTagIds",t)},getPalworld(t){return a["g"].get("/palu/check",t)}}}}]);