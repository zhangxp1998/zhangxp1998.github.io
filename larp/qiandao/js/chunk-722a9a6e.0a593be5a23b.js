(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-722a9a6e"],{"17e58":function(t,e,a){"use strict";a("cacd")},"995e":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"page-search"},[a.showNav?e(a.NavBar,{attrs:{border:!1,"safe-area-inset-top":"",fixed:"",title:"搜索",placeholder:!0},scopedSlots:t._u([{key:"left",fn:function(){return[e(a.Icon,{attrs:{name:"arrow-left",size:"18",color:"#2B263B"},on:{click:a.onClickLeft}})]},proxy:!0}],null,!1,3455825690)}):t._e(),e("div",{staticClass:"search-container",style:{top:a.showNav?"top: 176rpx":"0"}},[e("div",{staticClass:"search u-flex-c"},[e(a.Icon,{attrs:{name:"search",size:"16",color:"rgba(58, 51, 39, 1)"}}),e("input",{staticClass:"search-input",attrs:{placeholder:"搜索剧本名",type:"text"},on:{input:a.onInput}})],1)]),e("div",{staticClass:"result-container"},[a.name.length?t._e():e("div",{staticClass:"hot-title"},[t._v("选择实时热门剧本角色")]),a.spuList.length?e(a.VanList,{ref:"list",attrs:{finished:!t.hasMore,"immediate-check":!1,"finished-text":"到底了～"},on:{load:a.getSearchResult},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},t._l(a.spuList,(function(t,o){return e(a.RoleListItem,{key:o,attrs:{spuItem:t,wrapStyle:o!==a.spuList.length-1?"border-bottom: 2rpx soild rgba(58, 51, 39, 0.12)":""}})})),1):e(a.Empty,{attrs:{image:"search",description:"没有更多内容"}})],1)],1)},i=[],s=(a("91d5"),a("f0ca")),r=(a("2994"),a("2bdd")),c=(a("c3a6"),a("ad06")),n=(a("5246"),a("6b41")),l=a("2b0e"),u=a("4360"),d=a("ed08"),p=a("a18c"),g=a("3cc9"),m=a("dd8a"),v=function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"role-list-item u-flex-col",style:t.wrapStyle},[e("div",{staticClass:"spu-container u-flex-c"},[e("img",{staticClass:"spu-img",attrs:{src:t.spuItem.cover+"!fill_w360_h480_jpg",alt:""}}),e("div",{staticClass:"spu-title otext"},[t._v(t._s(t.spuItem.name))])]),e("div",{staticClass:"role-list u-flex-c"},t._l(t.spuItem.relatedSpus,(function(o,i){return e("div",{key:i,staticClass:"role-item u-flex-col",on:{click:function(e){return a.handleSelectRole({...o,drama:t.spuItem.name})}}},[e("div",{staticClass:"role-item-image-container"},[e("img",{staticClass:"role-img",attrs:{src:o.cover+"!fill_w360_h480_jpg",alt:""}}),e("div",{staticClass:"select-tip-area"},[t._v("选择")])]),e("div",{staticClass:"role-name otext"},[t._v(t._s(o.name))])])})),0)])},f=[],b=(a("dec5"),a("39d4"),a("b3ec"),{__name:"role-list-item",props:{spuItem:{type:Object,default:()=>{}},wrapStyle:String},setup(t){const e=t,a=t=>{u["a"].commit("aigc/UPDATE_REFERENCE_ROLE",t),p["a"].replace({name:"aigc-home"})};return{__sfc:!0,props:e,handleSelectRole:a}}}),h=b,C=(a("17e58"),a("0c7c")),j=Object(C["a"])(h,v,f,!1,null,"9966558e",null),O=j.exports,_={__name:"search",setup(t){const e=Object(l["reactive"])({limit:20,offset:0,spuList:[],isReset:!1,name:"",hasMore:!0,isLoading:!1}),{limit:a,offset:o,spuList:i,isReset:u,name:p}=Object(l["toRefs"])(e),v=Object(d["d"])();Object(l["onMounted"])(async()=>{b()});const f=()=>{g["a"].navigateBack()},b=async()=>{h(!0)},h=async(t=!1)=>{if(t&&(window.scrollTo(0,0),e.hasMore=!0),!e.hasMore)return;e.isLoading=!0;const a={limit:e.limit,offset:t?0:e.offset,name:e.name};try{const{data:{list:o,count:i}}=await m["a"].getSpuWithRelated(a);e.spuList=t?o:[...e.spuList,...o],e.offset+=o.length,e.hasMore=e.spuList.length<i}catch(o){}finally{e.isLoading=!1}},C=t=>{e.name=t.target.value,h(!0)};return{__sfc:!0,state:e,limit:a,offset:o,spuList:i,isReset:u,name:p,showNav:v,onClickLeft:f,initPage:b,getSearchResult:h,onInput:C,NavBar:n["a"],Icon:c["a"],VanList:r["a"],Empty:s["a"],RoleListItem:O}}},k=_,y=(a("df02"),Object(C["a"])(k,o,i,!1,null,"e9fa8956",null));e["default"]=y.exports},b3ec:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var o=a("2b0e"),i=a("4360");function s(){const t=Object(o["computed"])(()=>{var t;return null===(t=i["a"].getters)||void 0===t?void 0:t["aigc/mainColor"]}),e=Object(o["computed"])(()=>{var t;return null===(t=i["a"].getters)||void 0===t?void 0:t["aigc/secondaryColor"]}),a=Object(o["computed"])(()=>{var t;return null===(t=i["a"].getters)||void 0===t?void 0:t["aigc/color2"]}),s=Object(o["computed"])(()=>{var t;return null===(t=i["a"].getters)||void 0===t?void 0:t["aigc/color2"]}),r=Object(o["computed"])(()=>{var t;return null===(t=i["a"].getters)||void 0===t?void 0:t["aigc/color3"]}),c=Object(o["computed"])(()=>{var t;return null===(t=i["a"].getters)||void 0===t?void 0:t["aigc/color4"]}),n=Object(o["computed"])(()=>{var t;return null===(t=i["a"].getters)||void 0===t?void 0:t["aigc/backgroundColor"]}),l=Object(o["computed"])(()=>{var e,a;return(null===(e=i["a"].state.aigc.pageConfig)||void 0===e||null===(a=e.theme)||void 0===a?void 0:a.mainBackground)||t.value}),u=Object(o["computed"])(()=>{var e,a;return(null===(e=i["a"].state.aigc.pageConfig)||void 0===e||null===(a=e.theme)||void 0===a?void 0:a.buttonColor)||t.value}),d=Object(o["computed"])(()=>{var t,e;return null===(t=i["a"].state.aigc.pageConfig)||void 0===t||null===(e=t.components)||void 0===e?void 0:e.upload}),p=Object(o["computed"])(()=>{var t,e;return null===(t=i["a"].state.aigc.pageConfig)||void 0===t||null===(e=t.components)||void 0===e?void 0:e.book}),g=Object(o["computed"])(()=>{var t,e;return null===(t=i["a"].state.aigc.pageConfig)||void 0===t||null===(e=t.components)||void 0===e?void 0:e.auth}),m=Object(o["computed"])(()=>{var t,e;return null===(t=i["a"].state.aigc.pageConfig)||void 0===t||null===(e=t.theme)||void 0===e?void 0:e.buttonBackground}),v=Object(o["computed"])(()=>{var t,e;return null===(t=i["a"].state.aigc.pageConfig)||void 0===t||null===(e=t.theme)||void 0===e?void 0:e.navbar}),f=Object(o["computed"])(()=>{var t;return null===(t=i["a"].state.aigc.pageConfig)||void 0===t?void 0:t.promptConfig}),b=Object(o["computed"])(()=>{var t;return null===(t=i["a"].state.aigc.pageConfig)||void 0===t?void 0:t.scene}),h=Object(o["computed"])(()=>{var t;return null===(t=i["a"].state.aigc.pageConfig)||void 0===t?void 0:t.labelConfig}),C=Object(o["computed"])(()=>i["a"].state.aigc.pageConfig),j=Object(o["computed"])(()=>i["a"].state.aigc.selectRole),O=Object(o["computed"])(()=>i["a"].state.aigc.config),_=Object(o["computed"])(()=>i["a"].state.aigc.rolesConfig),k=Object(o["computed"])(()=>i["a"].state.aigc.modelConfig),y=Object(o["computed"])(()=>i["a"].state.aigc.bookConfig),w=Object(o["computed"])(()=>i["a"].state.user.me),x=Object(o["computed"])(()=>{var t,e,a;return(null===(t=y.value)||void 0===t||null===(e=t.flatMap(t=>t.subTabs))||void 0===e||null===(a=e.filter(t=>t.selected))||void 0===a?void 0:a.sort((t,e)=>e.selectIdx-t.selectIdx))||[]}),I=Object(o["computed"])({get(){return i["a"].state.aigc.contentPrompt},set(t){i["a"].commit("aigc/setContentPrompt",t)}}),L=Object(o["computed"])({get(){return i["a"].state.aigc.selectIdx},set(t){i["a"].commit("aigc/setSelectIdx",t)}}),R=Object(o["computed"])(()=>{var t;return null===(t=i["a"].state.aigc.pageConfig)||void 0===t?void 0:t.shareConfig}),S=Object(o["computed"])(()=>i["a"].state.aigc.referenceRole);return{color:t,color1:a,color2:s,color3:r,color4:c,secondaryColor:e,backgroundColor:n,mainBcg:l,buttonColor:u,withUpload:d,withAuth:g,buttonBackground:m,navbarColor:v,promptConfig:f,scene:b,pageConfig:C,role:j,groups:O,rolesConfig:_,modelConfig:k,bookConfig:y,me:w,withBook:p,selectItems:x,contentPrompt:I,selectIdx:L,labelConfig:h,shareConfig:R,referenceRole:S}}},cacd:function(t,e,a){},dd8a:function(t,e,a){"use strict";var o=a("0ef7");e["a"]={myPokemon(t){return o["q"].get("/v1/pokemon/my",t)},nextStep(t){return o["q"].post("/v1/pokemon/next-step",t)},searchSpuByImage(t){return o["q"].post("/v1/image/search/spu",t)},searchSpuByAggregateImages(t){return o["q"].post("/v1/image/search/multi/spu/v2",t)},ocr(t){return o["j"].post("/z/stargazing/z/ocr",t)},getQrcode(t){return o["j"].get("/z/poster-web/wechat/mp-qrcode",t)},getSpuOpposite(t){return o["j"].post("/treasure/spus/opposite/list",t)},getSpuWithRelated(t){return o["j"].post("/treasure/v1/search/spu/with/related",t)},getSpuWaterfall(t){return o["j"].get("/treasure/v1/waterfall/list",t)},fetchStep2BizConfig(){return o["j"].get("https://config-cdn.qiandaoapp.com/mp-common/pluginsBizConfig.json")},getRankInfo(t){return o["j"].get("/treasure/flora/v1/rank",t)},getByDistributedTagIds(t){return o["j"].post("/treasure/v1/public-relations/byDistributedTagIds",t)},getPalworld(t){return o["g"].get("/palu/check",t)}}},df02:function(t,e,a){"use strict";a("e136")},e136:function(t,e,a){}}]);