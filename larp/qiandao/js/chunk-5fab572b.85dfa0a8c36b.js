(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5fab572b"],{"263f":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAkFBMVEUAAAD/QHr/QHv/QHr/QXv/Q3z/RX7/bHr/QXv/QXv/QXv/QXv/QX3/Qnz/XIP/QXr/QXr/QXr/QHr/QXv/RX7/RH7/19f/P3r/QHr/QHr/QHv/QHv/Qnz/RYL/QHr/QXv/QHr/QXv/RHz/RID/TIP/VYD/QHv/Qnv/QXv/QXr/QHv/QXv/Qnv/Qnv/SoD/QHpQTuUFAAAAL3RSTlMA++O+PjIaA/aLhnNHOQfu1bGsXy0eAfPeppaPVRbrzch7TSkSDN7OuK6fnmxoJu3+kV0AAAF2SURBVEjH3ZXZcoMwDEVvSgghCYQkNFuzL91b/f/fNRijeGwE7lNnep4YdIWvJY3AP6TXwy8YkiKHJ33SBPCiQ8wUHhyV9KE8xucmSg4gZWOP7QlAQiYzyIS3eFbdm+mkkDgXjshF9kXMCQXXgBRJW8IczEG9iISEjYouYTJS95CmqAjuakpBHw2Nhs1Uv3WJikgq9tPl6RZYwCWXaitWcCyYavY66ybeCZhQSeabAB4sv4QVMV8eCd3q631bUFu9eUfr81Jgt3Rv6Zdavq6uDoOL4ynW8geezDVMrP1yrsxHwFY7gzvKqb1zRgAy/Rw548rT9KIlb2rISoaw2dKN8L4xaWw8B1JHD0bpjTY8o45TEbpW7kOjDb327brWbWheZxcySh+TZguR5F6/b2IGEOHSs7nimBXQtGgmAPZaPsGg8YRN+SvpGm0oyyWRq5L02XsalrtKhuqIITPkj7+zfgcRHrTMmIlXtPC5Os71uAeLcYw/4AcsgW9iSSflLwAAAABJRU5ErkJggg=="},"365c":function(t,s,a){"use strict";a.r(s);var r=function(){var t=this,s=t._self._c;return s("div",{staticClass:"payment"},[s("div",{staticClass:"payment__status"},[t.status===t.PAY_STATUS.LOADING?[t._v(" 正在查询订单状态... ")]:t.status===t.PAY_STATUS.FAIL?[t._v(" 下单失败 ")]:t.status===t.PAY_STATUS.SUCCESS?[s("img",{staticClass:"payment__status__icon",attrs:{src:a("c43b"),alt:""}}),s("div",[t._v("恭喜您，参团成功啦")])]:t.status===t.PAY_STATUS.POLLING_FAIL?[t._v(" 查询失败，请稍后再试 ")]:t._e()],2),s("div",{staticClass:"payment__content"},[t.status===t.PAY_STATUS.SUCCESS?s("GrouponSuccess"):t._e()],1)])},e=[],o=a("9b2a"),i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"groupon"},[t._m(0),s("div",{staticClass:"groupon__tips"},[t._v(" 截图并在微信识别二维码，或在微信搜索“"+t._s(t.puppet.nameCN)+"” 关注公众号，第一时间获取拼团进度通知 ")]),s("div",{staticClass:"groupon__qr-code"},[s("img",{staticClass:"groupon__qr-code__img",attrs:{src:t.puppet.officialAccountQrCode,alt:""}})])])},A=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"groupon__bar"},[s("img",{staticClass:"groupon__bar__icon",attrs:{src:a("263f"),alt:""}}),s("div",[t._v("想要收到拼团进度通知？")])])}],n=a("2f62"),u={computed:{...Object(n["mapState"])("app",["puppet"])}},l=u,c=(a("a70e"),a("0c7c")),v=Object(c["a"])(l,i,A,!1,null,"52e8a4bb",null),p=v.exports;const S=15e3,g=500,Q={LOADING:"loading",SUCCESS:"success",FAIL:"fail",POLLING_FAIL:"polling_fail"},C={SUCCESS:"success",FAIL:"fail"};var d={metaInfo(){return{title:"支付结果"}},components:{GrouponSuccess:p},data(){return{PAY_STATUS:Q,orderId:null,orderDetail:null,status:"loading",pollingTotal:0,pollingTimer:null}},created(){const{orderId:t,payState:s}=this.$route.query;t?s!==C.FAIL?(this.orderId=t,this.polling()):this.status=Q.FAIL:this.$toast.show({title:"订单号不存在"})},methods:{polling(){this.pollingTimer=setTimeout(async()=>{const t=await o["a"].getOrderDetail(this.orderId);this.pollingTotal=this.pollingTotal+g,this.orderDetail=t,"WAIT_SELLER_SEND_GOODS"===t.status||"WAIT_SELLER_CONFIRM_ORDER"===t.status||"WAIT_BUYER_CONFIRM_GOODS"===t.status||"BUYER_CONFIRM_GOODS"===t.status?this.status=Q.SUCCESS:this.pollingTotal<S?this.polling():this.status=Q.POLLING_FAIL},g)}},destroyed(){clearTimeout(this.pollingTimer)}},I=d,b=(a("3ff1"),Object(c["a"])(I,r,e,!1,null,"1b688a2c",null));s["default"]=b.exports},"3ff1":function(t,s,a){"use strict";a("4cf2")},"4cf2":function(t,s,a){},"9b2a":function(t,s,a){"use strict";var r=a("0ef7");s["a"]={getOrderBasicModelList(t){return r["j"].post("/order-web/user/load-order-base-model-list",t)},getOrderDetail(t){return r["p"].get("/orders/"+t)},buyerCancelOrder(t,s){return r["p"].post(`/orders/${t}/action/buyer-cancel-order`,s)}}},a607:function(t,s,a){},a70e:function(t,s,a){"use strict";a("a607")},c43b:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAwFBMVEUAAAD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////QHr//f7/SID/4uv/RH3/9vn/wtT/eKH/+vz/nrz/Xo//V4r/TIP/2+b/gqj/faX/cZz/ZpT/8fb/6/H/0+H/y9v/uc//qsT/l7f/krP/i67/UIb/5u7/tMtAvzROAAAAIXRSTlMA3vCSCQbR+Ovl4dXFupyOcWxoUU1MRT8eHBQSAdKxsCcX0rO8AAACvklEQVRYw8XZ2VbqMBQG4JRqAZkRARn9WxCQGQVRBt//rQ4HFgkkTdPQuPzu4GJ32DvTLlGolQt2xrES8XjCcjJ2oVwjt7sr5RwInFzpjtygUcnGIBHLVhpEz33RQiCreK/zrPkklJL50E/+ZCEU64mEUW0jtHaVKD3GoCH2qEqGDU12YHLqaWhL14nUcwo3SD0TiZcH3OThRXJ/LJ5uRN97rKdws1TdJ79pRJAWc20jEluoZ0TEVXg1hohi16OwhchaV/MLDHhi8e4sGGCx+TEPI/K0BJPQ1p13OvMuN4efi7EIbdOJezDhIhZP8Rr6b/Bj7B7Nubd4Wgsr0PW2cE86uFY5BsxC19aVBMwea0Z7kHy5Z3N+uPyvnBI0fb7SG+yCUzoEzOkWzMQ964OXOwR0NBM8ovG+IHAIqUGLt6DxZvBRI2Vo2dB472/wUSYF6Pih8cZL+CnoTf0rluCpbCnIILz9TpJgJkOaEHj9zabvQdBjCR5CokkscaQO3INBT7jOgI0QDxIWSYA3dI8GfBa/WYJ7kEmQOHjjc51d38aaxtstIRX3CUgzufV8E/y6QlBA8ZHf3bNvUEuW4DUCJHySsnbFZPaEq0hYrGzEt8/Gvzej/ww8BHH8Ctvbsog/NPEnox4CZYShx26IDYk+/TXZI5jNJgeutmlOPzHtXPxQKEimrx6b9jr9MfcCgpSFCZalVbSBUo0QRzHVMwsPKk7AIrXkI44+oJQLWkb37N2xjYxCKXCh7+4uAyoSzBZ6kg3eY7Exo5ZVbZZWtAK3CKOi3M5Nx6eCHnoIwWqoN5xv69liMOwilCLbEhuRvDe9aTd+rDB/8GHaiKxt/vBo/nhr/gBuvkVgvolhvs1ivhFkvlUVvZn2K+2+329IMtUWQmtVDTd1TbedDTfGDbfu//7jwuXnj+bp80czzOePfzFPjUalT+O2AAAAAElFTkSuQmCC"}}]);